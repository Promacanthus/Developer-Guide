<!DOCTYPE html>
<html lang="en-us">
  <head><link rel="icon" href="/favicon_main.svg"><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta http-equiv="x-ua-compatible" content="ie=edge" /><meta property="og:url"  content="http://localhost:1313/%E4%BA%91%E5%8E%9F%E7%94%9F/docker/registry/registry/" />
    <meta property="og:type" content="article" /><meta property="og:title" content="Registry.md" /><meta property="og:description" content="Registry.md" /><meta property="og:image:width"  content="600" />
        <meta property="og:image:height" content="400" /><meta property="og:image" content="http://localhost:1313/images/default_summary_hu2be732aee21a2469ead3fe1f2df8caca_2088687_600x0_resize_q75_box.jpg" /><title>Promacanthus</title>
    
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet"><link rel="stylesheet" type="text/css" href="/style.sass" integrity="">
<link rel="stylesheet" type="text/css" href="/css/monokai-sublime.9.15.8.min.91376415864fdd3a92be524052267afece4bdb1bb8c6c754f5e60c5ac28e93be.css" integrity="sha256-kTdkFYZP3TqSvlJAUiZ6/s5L2xu4xsdU9eYMWsKOk74=">
<link rel="stylesheet" type="text/css" href="/css/icons.f72c0103ff9598115ab2a76351494b950570479ce3f1795fec13fc62e4185dcf.css" integrity="sha256-9ywBA/&#43;VmBFasqdjUUlLlQVwR5zj8Xlf7BP8YuQYXc8=">
<link rel="stylesheet" type="text/css" href="/css/refresh.a55f73bd3031566bede1873d229fc74559352e7072fc322debef4b7ea58f58b8.css" integrity="sha256-pV9zvTAxVmvt4Yc9Ip/HRVk1LnBy/DIt6&#43;9LfqWPWLg=">
<link rel="stylesheet" type="text/css" href="/css/devicon.min.149016fbf45c8bc157d6f55ce3ee875feaa3f90446bf7d151fbc16a9f21a8859.css" integrity="sha256-FJAW&#43;/Rci8FX1vVc4&#43;6HX&#43;qj&#43;QRGv30VH7wWqfIaiFk=">
  </head>
  <body>
     

    <div id="preloader">
      <div id="status"></div>
    </div><nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">

      
      
      
      <a class="navbar-item">
        <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
        <div class="navbar-item left-menu-icon-wrapper">
          分类
        </div>
      </a>

      <div class="navbar-item is-expanded"></div>
      <a class="navbar-item is-hidden-desktop">  
        <div data-target="navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">
          Menu
        </div>
        <div data-target="navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>
    </div>

    

    <div id="navbar-menu" class="navbar-menu is-static">
      
      <div class="navbar-end">
        
          <a href="/" class="navbar-item is-secondary">主页</a><a href="/%E5%85%B3%E4%BA%8E/" class="navbar-item is-secondary">关于</a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="navbar-link">微服务</a>
            <div class="navbar-dropdown">
              <a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%B8%9A%E5%8A%A1/" class="navbar-item">微服务业务</a><a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0/" class="navbar-item">微服务平台</a><a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/" class="navbar-item">领域驱动设计</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/" class="navbar-link">填坑记</a>
            <div class="navbar-dropdown">
              <a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/traefik/" class="navbar-item">Traefik</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/mysql/" class="navbar-item">MySQL</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/kubernetes/" class="navbar-item">Kubernetes</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/http/" class="navbar-item">HTTP</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/golang/" class="navbar-item">Golang</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/docker/" class="navbar-item">Docker</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" class="navbar-link">开发框架</a>
            <div class="navbar-dropdown">
              <a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/webassembly/" class="navbar-item">WebAssembly</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/protocol-buffers/" class="navbar-item">Protocol Buffers</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/grpc/" class="navbar-item">GRPC</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/go-web/" class="navbar-item">Go Web</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/go-kit/" class="navbar-item">Go Kit</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" class="navbar-link">集成开发环境</a>
            <div class="navbar-dropdown">
              <a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/vscode/" class="navbar-item">VSCode</a><a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/goland/" class="navbar-item">Goland</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/" class="navbar-link">常用工具</a>
            <div class="navbar-dropdown">
              <a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/git/" class="navbar-item">Git</a><a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="navbar-item">正则表达式</a></div>
          </div><a href="/%E4%BA%A7%E5%93%81%E6%89%8B%E5%86%8C/" class="navbar-item is-secondary">产品手册</a>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/go%E8%AF%AD%E8%A8%80/" class="navbar-link">Go语言</a>
            <div class="navbar-dropdown">
              <a href="/go%E8%AF%AD%E8%A8%80/%E6%A0%B7%E4%BE%8B%E4%BB%A3%E7%A0%81/" class="navbar-item">样例代码</a><a href="/go%E8%AF%AD%E8%A8%80/%E5%AE%98%E6%96%B9%E6%96%87%E7%AB%A0/" class="navbar-item">官方文章</a><a href="/go%E8%AF%AD%E8%A8%80/%E6%A0%87%E5%87%86%E5%BA%93/" class="navbar-item">标准库</a><a href="/go%E8%AF%AD%E8%A8%80/%E5%9F%BA%E7%A1%80/" class="navbar-item">基础</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable">
            <a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/" class="navbar-link">云原生</a>
            <div class="navbar-dropdown">
              <a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/etcd/" class="navbar-item">Etcd</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="navbar-item">开发环境配置</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/traefik/" class="navbar-item">Traefik</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/service-mesh/" class="navbar-item">Service Mesh</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/ingress/" class="navbar-item">Ingress</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/helm/" class="navbar-item">Helm</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/docker/" class="navbar-item">Docker</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/" class="navbar-item">Kubernetes</a></div>
          </div></div>
    </div>




  </div>
</nav>
<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
      <div class="navbar-brand">
  
        
        
        
        <a class="navbar-item">
          <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
          <div class="navbar-item left-menu-icon-wrapper">
            分类
          </div>
        </a>
  
        <div class="navbar-item is-expanded"></div>
        <a class="navbar-item is-hidden-desktop">  
          <div data-target="cloned-navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">
            Menu
          </div>
          <div data-target="cloned-navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
        </a>
      </div>
  
      
  
      <div id="cloned-navbar-menu" class="navbar-menu is-static">
        <div class="navbar-end"><a href="/" class="navbar-item is-secondary">主页</a><a href="/%E5%85%B3%E4%BA%8E/" class="navbar-item is-secondary">关于</a><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="navbar-link">微服务</a>
              <div class="navbar-dropdown">
                <a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%B8%9A%E5%8A%A1/" class="navbar-item">微服务业务</a><a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%B9%B3%E5%8F%B0/" class="navbar-item">微服务平台</a><a href="/%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/" class="navbar-item">领域驱动设计</a></div>
            </div><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/" class="navbar-link">填坑记</a>
              <div class="navbar-dropdown">
                <a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/traefik/" class="navbar-item">Traefik</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/mysql/" class="navbar-item">MySQL</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/kubernetes/" class="navbar-item">Kubernetes</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/http/" class="navbar-item">HTTP</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/golang/" class="navbar-item">Golang</a><a href="/%E5%A1%AB%E5%9D%91%E8%AE%B0/docker/" class="navbar-item">Docker</a></div>
            </div><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" class="navbar-link">开发框架</a>
              <div class="navbar-dropdown">
                <a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/webassembly/" class="navbar-item">WebAssembly</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/protocol-buffers/" class="navbar-item">Protocol Buffers</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/grpc/" class="navbar-item">GRPC</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/go-web/" class="navbar-item">Go Web</a><a href="/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/go-kit/" class="navbar-item">Go Kit</a></div>
            </div><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" class="navbar-link">集成开发环境</a>
              <div class="navbar-dropdown">
                <a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/vscode/" class="navbar-item">VSCode</a><a href="/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/goland/" class="navbar-item">Goland</a></div>
            </div><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/" class="navbar-link">常用工具</a>
              <div class="navbar-dropdown">
                <a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/git/" class="navbar-item">Git</a><a href="/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="navbar-item">正则表达式</a></div>
            </div><a href="/%E4%BA%A7%E5%93%81%E6%89%8B%E5%86%8C/" class="navbar-item is-secondary">产品手册</a><div class="navbar-item has-dropdown is-hoverable">
              <a href="/go%E8%AF%AD%E8%A8%80/" class="navbar-link">Go语言</a>
              <div class="navbar-dropdown">
                <a href="/go%E8%AF%AD%E8%A8%80/%E6%A0%B7%E4%BE%8B%E4%BB%A3%E7%A0%81/" class="navbar-item">样例代码</a><a href="/go%E8%AF%AD%E8%A8%80/%E5%AE%98%E6%96%B9%E6%96%87%E7%AB%A0/" class="navbar-item">官方文章</a><a href="/go%E8%AF%AD%E8%A8%80/%E6%A0%87%E5%87%86%E5%BA%93/" class="navbar-item">标准库</a><a href="/go%E8%AF%AD%E8%A8%80/%E5%9F%BA%E7%A1%80/" class="navbar-item">基础</a></div>
            </div><div class="navbar-item has-dropdown is-hoverable">
              <a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/" class="navbar-link">云原生</a>
              <div class="navbar-dropdown">
                <a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/etcd/" class="navbar-item">Etcd</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="navbar-item">开发环境配置</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/traefik/" class="navbar-item">Traefik</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/service-mesh/" class="navbar-item">Service Mesh</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/ingress/" class="navbar-item">Ingress</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/helm/" class="navbar-item">Helm</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/docker/" class="navbar-item">Docker</a><a href="/%E4%BA%91%E5%8E%9F%E7%94%9F/kubernetes/" class="navbar-item">Kubernetes</a></div>
            </div></div>
      </div>
  
  
  
  
    </div>
  </nav>
<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title is-2 section-title">Registry.md</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
        
        <section class="section content has-text-justified">
          <p>docker-registry 是官方提供的工具，可以用于构建私有的镜像仓库。</p>
<h1 id="安装运行-docker-registry">安装运行 docker-registry</h1>
<h2 id="配置registry">配置Registry</h2>
<ol>
<li>默认的配置文件为(容器内)<code>/etc/docker/registry/config.yml</code>,可以通过命令使用本地的配置文件（如<code>/home/user/registry-conf</code>），执行如下命令：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 5000:5000 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --name<span style="color:#f92672">=</span>registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /home/user/registry-conf/config.yml:/etc/docker/registry/config.yml <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           registry:2
</code></pre></div><ol start="2">
<li>默认的存储路径为（容器内）<code>/var/lib/registry</code>,通过-v参数来映射本地的路径（如<code>/opt/data/registry</code>）到容器，执行如下命令：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 5000:5000 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --name registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /opt/data/registry:/var/lib/registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           registry:2
</code></pre></div><h2 id="容器运行">容器运行</h2>
<p>可以通过获取官方 registry 镜像来运行。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker run -d -p 5000:5000 --restart<span style="color:#f92672">=</span>always --name registry registry:<span style="color:#f92672">[</span>version<span style="color:#f92672">]</span>
</code></pre></div><p>这将使用官方的 registry 镜像来启动私有仓库。默认情况下，仓库会被创建在容器的 <code>/var/lib/registry</code>(或者 <code>/tmp/registry</code>) 目录下。你可以通过 -v 参数来将镜像文件存放在本地的指定路径。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker run -d -p 5000:5000 -v /opt/data/registry:/var/lib/registry registry   
//将上传的镜像放到本地的/opt/data/registry目录
</code></pre></div><p>此时，在本地将启动一个私有仓库服务，监听端口为5000。</p>
<p>先在本机查看已有的镜像。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker image ls
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
ubuntu              latest              ba5877dc9bec        <span style="color:#ae81ff">6</span> weeks ago         192.7 MB
</code></pre></div><p>使用 docker tag 将 ubuntu:latest 这个镜像标记为 127.0.0.1:5000/ubuntu:latest。</p>
<p>格式为 <code>docker tag IMAGE[:TAG] [REGISTRY_HOST[:REGISTRY_PORT]/]REPOSITORY[:TAG]</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker tag ubuntu:latest 127.0.0.1:5000/ubuntu:latest
$ docker image ls
REPOSITORY                        TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
ubuntu                            latest              ba5877dc9bec        <span style="color:#ae81ff">6</span> weeks ago         192.7 MB
127.0.0.1:5000/ubuntu:latest      latest              ba5877dc9bec        <span style="color:#ae81ff">6</span> weeks ago         192.7 MB
</code></pre></div><p>使用 docker push 上传标记的镜像。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker push 127.0.0.1:5000/ubuntu:latest
The push refers to repository <span style="color:#f92672">[</span>127.0.0.1:5000/ubuntu<span style="color:#f92672">]</span>
373a30c24545: Pushed
a9148f5200b0: Pushed
cdd3de0940ab: Pushed
fc56279bbb33: Pushed
b38367233d37: Pushed
2aebd096e0e2: Pushed
latest: digest: sha256:fe4277621f10b5026266932ddf760f5a756d2facd505a94d2da12f4f52f71f5a size: <span style="color:#ae81ff">1568</span>
</code></pre></div><p>用 curl 查看仓库中的镜像。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ curl 127.0.0.1:5000/v2/_catalog
<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;repositories&#34;</span>:<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;ubuntu&#34;</span><span style="color:#f92672">]}</span>
</code></pre></div><p>这里可以看到 {&ldquo;repositories&rdquo;:[&ldquo;ubuntu&rdquo;]}，表明镜像已经被成功上传了。</p>
<p>先删除已有镜像，再尝试从私有仓库中下载这个镜像。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker image rm 127.0.0.1:5000/ubuntu:latest

$ docker pull 127.0.0.1:5000/ubuntu:latest
Pulling repository 127.0.0.1:5000/ubuntu:latest
ba5877dc9bec: Download complete
511136ea3c5a: Download complete
9bad880da3d2: Download complete
25f11f5fb0cb: Download complete
ebc34468f71d: Download complete
2318d26665ef: Download complete

$ docker image ls
REPOSITORY                         TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
127.0.0.1:5000/ubuntu:latest       latest              ba5877dc9bec        <span style="color:#ae81ff">6</span> weeks ago         192.7 MB
</code></pre></div><h3 id="注意事项">注意事项</h3>
<p>如果你不想使用 127.0.0.1:5000作为仓库地址，比如想<strong>让本网段的其他主机也能把镜像推送到私有仓库。</strong></p>
<p>你就得把例如 192.168.199.100:5000这样的内网地址作为<strong>私有仓库地址</strong>，这时你会发现无法成功推送镜像。</p>
<p>这是因为 Docker 默认不允许非HTTPS方式推送镜像。通过Docker的配置选项来取消这个限制，或者查看下一节配置能够通过 HTTPS 访问的私有仓库。</p>
<h3 id="ubuntu-1404-debian-7-wheezy">Ubuntu 14.04, Debian 7 Wheezy</h3>
<p>对于使用 upstart 的系统而言，编辑<code>/etc/default/docker</code> 文件，在其中的 DOCKER_OPTS 中增加如下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">DOCKER_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--registry-mirror=https://registry.docker-cn.com --insecure-registries=192.168.199.100:5000&#34;</span>
</code></pre></div><p>重新启动服务。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo service docker restart
</code></pre></div><h3 id="ubuntu-1604-debian-8-centos-7">Ubuntu 16.04+, Debian 8+, centos 7</h3>
<p>对于使用 systemd 的系统，请在 <code>/etc/docker/daemon.json</code> 中写入如下内容（如果文件不存在请新建该文件）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;registry-mirror&#34;</span>: [<span style="color:#e6db74">&#34;https://registry.docker-cn.com&#34;</span>],
  <span style="color:#f92672">&#34;insecure-registries&#34;</span>: [<span style="color:#e6db74">&#34;192.168.199.100:5000&#34;</span>]
}
</code></pre></div><p>注意：该文件必须符合 json 规范，否则 Docker 将不能启动。</p>
<p>其他对于 Docker for Windows 、 Docker for Mac 在设置中编辑 daemon.json 增加和上边一样的字符串即可。</p>
<p>或者修改Docker Daemon的启动参数，添加如下参数，表示信任这个私有仓库，不进行安全证书检查：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">DOCKER_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--insecure-registry 192.168.199.100:5000&#34;</span>
</code></pre></div><p>然后重启Docker服务。</p>
<h3 id="使用安全证书">使用安全证书</h3>
<p>可以从知名的CA服务时（如verisign）申请公开的SSL/TLS证书，或者使用OpenSSL等软件自动生成，见下一章节。</p>
<h1 id="配置tls证书">配置TLS证书</h1>
<p>当本地主机运行Registry服务后，所有能访问到该主机的Docker Host都可以把它作为私有仓库使用，<strong>只需要在镜像名称签名加上具体的服务器地址</strong>。</p>
<p>私有仓库需要启用TLS认证，否则会报错，可以使用上一节的方式配置，或者生产TLS证书。</p>
<h2 id="自行生产证书">自行生产证书</h2>
<p>使用OpenSSL工具，生产私人证书文件：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir -p certs
openssl req <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -newkey rsa:4096 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -nodes -sha256 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -keyout certs/myrepo.key <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -x509 -days <span style="color:#ae81ff">365</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>        -out certs/myrepo.crt

Country Name <span style="color:#f92672">(</span><span style="color:#ae81ff">2</span> letter code<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>AU<span style="color:#f92672">]</span>:CN	  
State or Province Name <span style="color:#f92672">(</span>full name<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Some-State<span style="color:#f92672">]</span>:ShangHai
Locality Name <span style="color:#f92672">(</span>eg, city<span style="color:#f92672">)</span> <span style="color:#f92672">[]</span>:ShangHai
Organization Name <span style="color:#f92672">(</span>eg, company<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>Internet Widgits Pty Ltd<span style="color:#f92672">]</span>:
Organizational Unit Name <span style="color:#f92672">(</span>eg, section<span style="color:#f92672">)</span> <span style="color:#f92672">[]</span>:
Common Name <span style="color:#f92672">(</span>e.g. server FQDN or YOUR name<span style="color:#f92672">)</span> <span style="color:#f92672">[]</span>:myregistry.docker.com 
Email Address <span style="color:#f92672">[]</span>:

</code></pre></div><p>生产过程中会提示输入各种信息，主要CN一栏的信息要填入跟访问的地址相同的域名，例如上例中<code>myrepo.com</code>，生产结果为：</p>
<ul>
<li>
<p>密钥文件：myrepo.key</p>
</li>
<li>
<p>证书文件：myrepo.crt</p>
</li>
</ul>
<p>证书文件需要发送给用户，并且配置到用户Docker Host上，路径需要和域名一致，如：<code>/etc/docker/certs.d/myrepo.com:5000/ca.crt</code></p>
<p>如果Registry服务需要对外公开，需要申请大家都认可的证书。</p>
<p>知名的代理商：</p>
<ol>
<li>
<p>SSLs.com</p>
</li>
<li>
<p>GoDaddy.com</p>
</li>
<li>
<p>LetsEncrypt.org</p>
</li>
<li>
<p>GlobalSign.com</p>
</li>
</ol>
<h2 id="启用证书">启用证书</h2>
<p>当拥有秘钥文件和证书文件后，可以配置Registry启用证书支持，主要通过<code>REGSITRY_HTTP_TLS_CERTIFICATE</code>和<code>REGISTRY_HTTP_TLS_KEY</code>参数来设置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run -d -p 5000:5000 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --name registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /home/sugoi/docker/registry/certs:/certs <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /home/sugoi/docker/registry/data:/var/lib/registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -e REGISTRY_HTTP_ADDR<span style="color:#f92672">=</span>0.0.0.0:443 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -e REGISTRY_HTTP_TLS_CERTIFICATE<span style="color:#f92672">=</span>/certs/domain.crt <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -e REGISTRY_HTTP_TLS_KEY<span style="color:#f92672">=</span>/certs/domain.key <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -p 6443:443 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           registry:2


<span style="color:#75715e"># 不使用https的端口，继续使用5000</span>
docker run -d -p 5000:5000 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --restart<span style="color:#f92672">=</span>always <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           --name registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /home/sugoi/docker/registry/certs:/certs <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -v /home/sugoi/docker/registry/data:/var/lib/registry <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -e REGISTRY_HTTP_TLS_CERTIFICATE<span style="color:#f92672">=</span>/certs/domain.crt <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           -e REGISTRY_HTTP_TLS_KEY<span style="color:#f92672">=</span>/certs/domain.key <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>           registry:2
</code></pre></div><h1 id="管理访问权限">管理访问权限</h1>
<p>通常在生产环境中，对私有仓库还需要进行访问代理，以及提供认证和用户管理。</p>
<h2 id="用compose启动registry">用Compose启动Registry</h2>
<p>一般情况下，使用Registry需要的配置包括存储路径、TLS证书和用户认证。下面是基于Docker Compose的快速启动Registry的模板：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">registry</span>:
    <span style="color:#66d9ef">restart</span>: always
    <span style="color:#66d9ef">image</span>: registry:<span style="color:#ae81ff">2.1</span>
    <span style="color:#66d9ef">ports</span>:
        - <span style="color:#ae81ff">5000</span>:<span style="color:#ae81ff">5000</span>
    <span style="color:#66d9ef">environment</span>:
        <span style="color:#66d9ef">REGISTRY_HTTP_TLS_CERIFICATE</span>: /certs/myrepo.crt
        <span style="color:#66d9ef">REGISTRY_HTTP_TLS_KEY</span>: /certs/myrepo.key
        <span style="color:#66d9ef">REGISTRY_AUTH</span>: htpasswd        <span style="color:#75715e">##这是一个加密工具</span>
        <span style="color:#66d9ef">REGISTRY_AUTH_HTPASSWD_PATH</span>: /auth/docker-registry-htpasswd
        <span style="color:#66d9ef">REGISTRY_AUTH_HTPASSWD_REALM</span>: basic
    <span style="color:#66d9ef">volumes</span>:
        - <span style="color:#66d9ef">/path/to/data</span>: /var/lib/registry
        - <span style="color:#66d9ef">/path/to/certs</span>: /certs
        - <span style="color:#66d9ef">/path/to/auth</span>: /auth
</code></pre></div><h1 id="配置registry-1">配置Registry</h1>
<p>Docker Registry提供了一些样例配置，用户可以直接使用它们来进行开发或生产部署。示例配置文件如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># 版本信息</span>
<span style="color:#66d9ef">version</span>: <span style="color:#ae81ff">0.1</span>
<span style="color:#75715e"># log选项</span>
<span style="color:#66d9ef">log</span>:
    <span style="color:#66d9ef">level</span>: debug    <span style="color:#75715e">## 字符串类型，标注输出调试信息的级别，包括debug，info，warn，error</span>
    <span style="color:#66d9ef">fromatter</span>: text    <span style="color:#75715e">## 字符串类型，日志输出格式，包括text，json，logstash等</span>
    <span style="color:#66d9ef">fields</span>:     <span style="color:#75715e">## 增加到日志输出消息中的键值对，可以用于过滤日志</span>
        <span style="color:#66d9ef">service</span>: registry
        <span style="color:#66d9ef">environment</span>: development
<span style="color:#75715e"># hooks选项</span>
<span style="color:#75715e"># 配置当前仓库发生异常时，通过邮件发送日志时的参数</span>
<span style="color:#66d9ef">hooks</span>:
    - <span style="color:#66d9ef">type</span>: mail
      <span style="color:#66d9ef">disabled</span>: <span style="color:#66d9ef">true</span>
      <span style="color:#66d9ef">levels</span>:
          - panic
      <span style="color:#66d9ef">options</span>:
          <span style="color:#66d9ef">stmp</span>:
              <span style="color:#66d9ef">addr</span>: mail.example.com:<span style="color:#ae81ff">25</span>
              <span style="color:#66d9ef">uername</span>: mailuser
              <span style="color:#66d9ef">password</span>: password
              <span style="color:#66d9ef">insecure</span>: <span style="color:#66d9ef">true</span>
          <span style="color:#66d9ef">from</span>: sender@example.com
          <span style="color:#66d9ef">to</span>:
              - errors@example.com
<span style="color:#75715e"># 存储选项</span>
<span style="color:#75715e"># 将配置存储引擎，默认支持包括本地文件系统，Google云存储，AWS S3云存储，Openstack Swift 分布式存储等</span>
<span style="color:#66d9ef">storage</span>:
    <span style="color:#66d9ef">filesystem</span>:
        <span style="color:#66d9ef">rootdirectory</span>: /var/lib/registry
    <span style="color:#66d9ef">azure</span>:
        <span style="color:#66d9ef">accountname</span>: accountname
        <span style="color:#66d9ef">accountkey</span>: base64encodedaccountkey
        <span style="color:#66d9ef">container</span>: containername
    <span style="color:#66d9ef">gcs</span>:
        <span style="color:#66d9ef">bucket</span>: bucketname
        <span style="color:#66d9ef">keyfile</span>: /path/to/keyfile
        <span style="color:#66d9ef">rootdirectory</span>: /gcs/object/name/prefix
    <span style="color:#66d9ef">s3</span>:
        <span style="color:#66d9ef">accesskey</span>: awsaccesskey
        <span style="color:#66d9ef">secretkey</span>: awssecretkey
        <span style="color:#66d9ef">region</span>: us-west<span style="color:#ae81ff">-1</span>
        <span style="color:#66d9ef">regionendpoint</span>: http://myobjects.local
        <span style="color:#66d9ef">bucket</span>: bucketname
        <span style="color:#66d9ef">encrypt</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">keyid</span>: mykeyid
        <span style="color:#66d9ef">secure</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">v4auth</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">chunksize</span>: <span style="color:#ae81ff">5242880</span>
        <span style="color:#66d9ef">multipartcopychunksize</span>: <span style="color:#ae81ff">33554432</span>
        <span style="color:#66d9ef">multipartcopymaxconcurrency</span>: <span style="color:#ae81ff">100</span>
        <span style="color:#66d9ef">multipartcopythresholdsize</span>: <span style="color:#ae81ff">33554432</span>
        <span style="color:#66d9ef">rootdirectory</span>: /s3/object/name/prefix
    <span style="color:#66d9ef">Swift</span>:
        <span style="color:#66d9ef">uername</span>: username
        <span style="color:#66d9ef">password</span>: password
        <span style="color:#66d9ef">authurl</span>: https://storage.myprovider.com/auth/v1<span style="color:#ae81ff">.0</span> or https://storage.myprovider.com/v2<span style="color:#ae81ff">.0</span> or https://storage.myprovider.com/v3/auth
        <span style="color:#66d9ef">tenant</span>: tenantname
        <span style="color:#66d9ef">tenantid</span>: tenantid
        <span style="color:#66d9ef">domain</span>: domain name for Openstack Identity v3 API
        <span style="color:#66d9ef">domainid</span>: domain id for Openstack Identity v3 API
        <span style="color:#66d9ef">insecureskipverify</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">region</span>: fr
        <span style="color:#66d9ef">container</span>: containername
        <span style="color:#66d9ef">rootdirectory</span>: /swift/object/name/prefix
    <span style="color:#66d9ef">oss</span>:
        <span style="color:#66d9ef">accesskeyid</span>: accesskeyid
        <span style="color:#66d9ef">accesskeysecret</span>: accesskeysecret
        <span style="color:#66d9ef">region</span>: OSS region name
        <span style="color:#66d9ef">endpoint</span>: optional endpoints
        <span style="color:#66d9ef">internal</span>: optional internal endpoint
        <span style="color:#66d9ef">bucket</span>: OSS bucket
        <span style="color:#66d9ef">encrypt</span>: optional data encrypt setting
        <span style="color:#66d9ef">secure</span>: optional ssl setting
        <span style="color:#66d9ef">chunksize</span>: optional size value
        <span style="color:#66d9ef">rootdirectory</span>: optional root directory
    <span style="color:#66d9ef">inmemory</span>:
    <span style="color:#66d9ef">delete</span>:     <span style="color:#75715e">##是否允许删除镜像功能，默认关闭</span>
        <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
    <span style="color:#66d9ef">cache</span>:     <span style="color:#75715e">## 开启对镜像层元数据的缓存功能，默认开启</span>
        <span style="color:#66d9ef">blobdescriptor</span>: inmemory
    <span style="color:#66d9ef">maintenance</span>:     <span style="color:#75715e">## 配置维护相关的功能，包括对孤立旧文件的清理、开启只读模式等</span>
        <span style="color:#66d9ef">uploadpurging</span>:
            <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
            <span style="color:#66d9ef">age</span>: 168h
            <span style="color:#66d9ef">interval</span>: 24h
            <span style="color:#66d9ef">dryrun</span>: <span style="color:#66d9ef">false</span>
     <span style="color:#66d9ef">redirect</span>:
         <span style="color:#66d9ef">disable</span>: <span style="color:#66d9ef">false</span>
<span style="color:#75715e"># 认证选项，对认证类型的配置</span>
<span style="color:#66d9ef">auth</span>:
    <span style="color:#66d9ef">silly</span>:     <span style="color:#75715e">##仅供测试使用，只要请求头带有认证域即可，不做内容检查</span>
        <span style="color:#66d9ef">realm</span>: silly-realm
        <span style="color:#66d9ef">service</span>: silly-service
    <span style="color:#66d9ef">token</span>:     <span style="color:#75715e">##基于token的用户认证，适用于生成环境，需要额外的token服务来支持</span>
        <span style="color:#66d9ef">realm</span>: token-realm
        <span style="color:#66d9ef">service</span>: token-service
        <span style="color:#66d9ef">issuer</span>: registry-token-issuer
        <span style="color:#66d9ef">rootcetbundle</span>: /root/certs/bundle
     <span style="color:#66d9ef">htpasswd</span>:     <span style="color:#75715e">##基于Apache htpasswd密码文件的权限检查</span>
         <span style="color:#66d9ef">realm</span>: basic-realmhttp://success.docker.com/article/docker-login-to-dtr-fails-with-x509-certificate-error
<span style="color:#66d9ef">path</span>: /path/to/htpasswd
<span style="color:#75715e"># HTTP选项</span>
<span style="color:#66d9ef">http</span>:
    <span style="color:#66d9ef">addr</span>: localhost:<span style="color:#ae81ff">5000</span>    <span style="color:#75715e">##服务监听地址，必选</span>
    <span style="color:#66d9ef">net</span>: tcp
    <span style="color:#66d9ef">prefix</span>: /my/nested/registry/
    <span style="color:#66d9ef">host</span>: https://myregistryaddress.org:<span style="color:#ae81ff">5000</span>
    <span style="color:#66d9ef">secret</span>: asecretforlocaldevelopment    <span style="color:#75715e">##与安全相关的随机字符串，用户可以自定义，必选</span>
    <span style="color:#66d9ef">relativeurls</span>: <span style="color:#66d9ef">false</span>
    <span style="color:#66d9ef">tls</span>:    <span style="color:#75715e">##证书相关的文件路径信息</span>
        <span style="color:#66d9ef">certificate</span>: /path/to/x509/public
        <span style="color:#66d9ef">key</span>: /path/to/x509/private
        <span style="color:#66d9ef">clientcas</span>:
            - /path/to/ca.pem
            - /path/to/another/ca.pem
        <span style="color:#66d9ef">letsenceypt</span>:
            <span style="color:#66d9ef">cachefile</span>: /path/to/cache-file
            <span style="color:#66d9ef">email</span>: emailused@letsencrypt.com
    <span style="color:#66d9ef">debug</span>:
        <span style="color:#66d9ef">addr</span>: localhost:<span style="color:#ae81ff">5001</span>
    <span style="color:#66d9ef">headers</span>:
        <span style="color:#66d9ef">X-Content-Type-Options</span>: [nosniff]
    <span style="color:#66d9ef">http2</span>:     <span style="color:#75715e">##是否开启http2，默认为关闭</span>
        <span style="color:#66d9ef">disabled</span>: <span style="color:#66d9ef">false</span>
<span style="color:#75715e"># 通知选项</span>
<span style="color:#75715e">## 有事件发生时的通知系统</span>
<span style="color:#66d9ef">notifications</span>:
    <span style="color:#66d9ef">endpoints</span>:
        - <span style="color:#66d9ef">name</span>: local<span style="color:#ae81ff">-5003</span>
            <span style="color:#66d9ef">url</span>: http://localhost:<span style="color:#ae81ff">5003</span>/callback
            <span style="color:#66d9ef">headers</span>:
                <span style="color:#66d9ef">Authorization</span>: [Bearer &lt;an example token&gt;]
            <span style="color:#66d9ef">timeout</span>: 1s
            <span style="color:#66d9ef">threshold</span>: <span style="color:#ae81ff">10</span>
            <span style="color:#66d9ef">backoff</span>: 1s
            <span style="color:#66d9ef">disabled</span>: <span style="color:#66d9ef">true</span>
<span style="color:#75715e">## 上面的配置会在pull或push发生时向 http://localhost:5003/callback 发送事件，并在HTTP请求的header中传入认证信息，可以是Basic、token、Bearer等模式，主要用于接收事件方进行身认证。更新配置后，需要重启Registry服务器，如果配置正确，会在日志中看到相应的提示信息：configuring endpoint listener (http://localhost:5003/callback),timeout=1s,header=map[Authorization:[Bearer &lt;an example token&gt;]]</span>
        - <span style="color:#66d9ef">name</span>: local<span style="color:#ae81ff">-8083</span>
            <span style="color:#66d9ef">url</span>: http://localhost:<span style="color:#ae81ff">5003</span>/callback
            <span style="color:#66d9ef">timeout</span>: 1s
            <span style="color:#66d9ef">threshold</span>: <span style="color:#ae81ff">10</span>
            <span style="color:#66d9ef">backoff</span>: 1s
            <span style="color:#66d9ef">disabled</span>: <span style="color:#66d9ef">true</span>
<span style="color:#75715e"># redis选项</span>
<span style="color:#75715e">##用redis来缓存文件块</span>
<span style="color:#66d9ef">redis</span>:
    <span style="color:#66d9ef">addr</span>: localhost:<span style="color:#ae81ff">6379</span>
    <span style="color:#66d9ef">password</span>: asecret
    <span style="color:#66d9ef">db</span>: <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">dialtimeout</span>: 10ms
    <span style="color:#66d9ef">readtimeout</span>: 10ms
    <span style="color:#66d9ef">writetimeout</span>: 10ms
    <span style="color:#66d9ef">pool</span>:
        <span style="color:#66d9ef">maxidle</span>: <span style="color:#ae81ff">16</span>
        <span style="color:#66d9ef">maxactive</span>: <span style="color:#ae81ff">64</span>
        <span style="color:#66d9ef">idletimeout</span>: 300s
<span style="color:#75715e"># 健康健康选项</span>
<span style="color:#75715e">## 对配置服务进行检测判断系统状态,默认不开启</span>
<span style="color:#66d9ef">health</span>:
    <span style="color:#66d9ef">storagedriver</span>:
        <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">interval</span>: 10s
        <span style="color:#66d9ef">threshold</span>: <span style="color:#ae81ff">3</span>
    <span style="color:#66d9ef">file</span>:
        - <span style="color:#66d9ef">file</span>: /path/to/checked/file
          <span style="color:#66d9ef">interval</span>: 10s

    <span style="color:#66d9ef">http</span>:
        - <span style="color:#66d9ef">addr</span>: redis-server.domain.com:<span style="color:#ae81ff">6379</span>
          <span style="color:#66d9ef">timeout</span>: 3s
          <span style="color:#66d9ef">interval</span>: 10s
          <span style="color:#66d9ef">threshold</span>: <span style="color:#ae81ff">3</span>
<span style="color:#75715e"># 代理选项</span>
<span style="color:#75715e">## 配置Registry作为一个pull代理，从远端（目前仅支持官方仓库）下拉Docker镜像</span>
<span style="color:#75715e">## 也可通过如下命令来配置代理 `docker --registry-mirror=https://myrepo.com:5000 daemon`</span>
<span style="color:#66d9ef">proxy</span>:
    <span style="color:#66d9ef">remoteurl</span>: https//registry<span style="color:#ae81ff">-1.</span>docker.io
    <span style="color:#66d9ef">username</span>: [usernamen]
    <span style="color:#66d9ef">password</span>: [password]
<span style="color:#75715e"># 验证选项</span>
<span style="color:#75715e">## 限定来自指定地址的客户端才可以执行push操作</span>
<span style="color:#66d9ef">validation</span>:
    <span style="color:#66d9ef">enabled</span>: <span style="color:#66d9ef">true</span>
    <span style="color:#66d9ef">manifests</span>:
        <span style="color:#66d9ef">urls</span>:
            <span style="color:#66d9ef">allow</span>:
                - ^https?://([^/]+\.)<span style="color:#75715e">*example\.com/</span>
            <span style="color:#66d9ef">deny</span>:
                - ^https?://www\.example\.com/
</code></pre></div><p>配置文件中的选项都是以yaml文件的格式提供的，可以直接进行修改，也可以自定义添加，默认情况下，变量可以从环境变量中读取，例如：log.level:debug 可以配置为 export LOG_LEVEL=debug 。</p>
<h3 id="通知的使用场景">通知的使用场景</h3>
<p>每个事件触发的payload都是一个定义好的JSON格式的数据，主要的属性如下：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>string</td>
<td>事件所关联的动作类型，pull或者push</td>
</tr>
<tr>
<td>target.mediaType</td>
<td>string</td>
<td>事件payload类型，如application/octet-stream等</td>
</tr>
<tr>
<td>target.repository</td>
<td>string</td>
<td>镜像名称</td>
</tr>
<tr>
<td>target.url</td>
<td>string</td>
<td>事件对应数据地址，可以通过url来获取此事件带来的更改</td>
</tr>
<tr>
<td>request.method</td>
<td>string</td>
<td>HTTP请求方法</td>
</tr>
<tr>
<td>request.useragent</td>
<td>string</td>
<td>带来此事件的客户端类型</td>
</tr>
<tr>
<td>actor.name</td>
<td>string</td>
<td>发起此次动作的用户</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>统计镜像上传下载次数，了解镜像使用情况</p>
</li>
<li>
<p>对服务的持续部署，方便管理镜像</p>
</li>
</ol>

        </section>
      </div>
    </div>
  </div>  
  <div class="container">
    <div class="columns">
      <div class="column has-text-right is-family-monospace is-centered-tablet-portrait">
        上次修改:&nbsp;14 April 2020</div>
    </div>
  </div></section>
<footer class="footer footer-dark">
  <div class="container">
    <div class="columns">
      <div class="column">
        <img src="/footer.svg" alt="">
        
      </div>
      
    <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Website</h3>
          </div>
          <ul class="link-list"><li>
              <a href="/"><span class="icon"><i class="fa fa-home"></i></span> 主页</a>
            </li><li></li>
            <li><a href="/tags/">
                <span class="icon"><i class="fa fa-tag"></i></span> 
                所有类别
              </a></li>
          </ul>
        </div>
      </div>
    
      
      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Contacts</h3>
          </div>
          <ul class="link-list">
            
            
            <li>
              <a href="https://github.com/Promacanthus" target="_blank">
                <span class="icon"><i class="fa fa-github"></i></span>
                
                  Github
                
              </a>
            </li>
                         
            
            <li>
              <a href="mailto:promacanthus@gmail.com" target="_blank">
                <span class="icon"><i class="fa fa-envelope"></i></span>
                
                  Gmail
                
              </a>
            </li>
            
                   
                   
                   
          </ul>
        </div>
      </div>
      

      
      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Copyright</h3>
          </div>
          <ul class="link-list">
            <li>
              <a>
                <span class="icon"><i class="fa fa-copyright"></i></span>
                promacanthus - 2020
              </a>
            </li>
          </ul>
        </div>
      </div>
      

    </div>
  </div>
</footer>
    <div id="backtotop"><a href="#"></a></div><div class="sidebar">
  <div class="sidebar-header"><img src="/sidebar.svg" alt="">
    
    <a class="sidebar-close" href="javascript:void(0);">
      <i data-feather="x"></i>
    </a>
  </div>
  <div class="inner">
    <ul class="sidebar-menu">
      <li class="no-children"><a href="/tags/"><div class="columns">
              <table width="100%">  
                <tr>
                  <td class="">
                    <span class="icon"><i class="fa fa-cubes"></i></span>
                    所有类别
                  </td>
                  <td class="has-text-right" >
                      
                  </td>
                </tr>
              </table>
            </div>
          </a>
      <li class="no-children">
          <a href="/tags/">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>开发框架</td>
                    <td class="has-text-right" >
                        <div class="tag-number">316</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/go%e8%af%ad%e8%a8%80">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Go语言</td>
                    <td class="has-text-right" >
                        <div class="tag-number">115</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e4%ba%91%e5%8e%9f%e7%94%9f">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>云原生</td>
                    <td class="has-text-right" >
                        <div class="tag-number">114</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e6%a0%b7%e4%be%8b%e4%bb%a3%e7%a0%81">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>样例代码</td>
                    <td class="has-text-right" >
                        <div class="tag-number">73</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/kubernetes">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Kubernetes</td>
                    <td class="has-text-right" >
                        <div class="tag-number">53</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>开发框架</td>
                    <td class="has-text-right" >
                        <div class="tag-number">37</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/docker">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Docker</td>
                    <td class="has-text-right" >
                        <div class="tag-number">33</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%9f%ba%e7%a1%80">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>基础</td>
                    <td class="has-text-right" >
                        <div class="tag-number">30</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%a1%ab%e5%9d%91%e8%ae%b0">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>填坑记</td>
                    <td class="has-text-right" >
                        <div class="tag-number">20</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/helm">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Helm</td>
                    <td class="has-text-right" >
                        <div class="tag-number">17</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%be%ae%e6%9c%8d%e5%8a%a1">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>微服务</td>
                    <td class="has-text-right" >
                        <div class="tag-number">15</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e9%9b%86%e6%88%90%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>集成开发环境</td>
                    <td class="has-text-right" >
                        <div class="tag-number">14</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/vscode">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>VSCode</td>
                    <td class="has-text-right" >
                        <div class="tag-number">13</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/03-%e5%ae%b9%e5%99%a8%e7%bc%96%e6%8e%92">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>03-容器编排</td>
                    <td class="has-text-right" >
                        <div class="tag-number">12</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/go-kit">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Go-kit</td>
                    <td class="has-text-right" >
                        <div class="tag-number">12</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e6%a0%87%e5%87%86%e5%ba%93">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>标准库</td>
                    <td class="has-text-right" >
                        <div class="tag-number">11</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/grpc">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>gRPC</td>
                    <td class="has-text-right" >
                        <div class="tag-number">10</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/protocol-buffers">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Protocol-Buffers</td>
                    <td class="has-text-right" >
                        <div class="tag-number">9</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/examples">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Examples</td>
                    <td class="has-text-right" >
                        <div class="tag-number">8</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/05-%e5%ae%b9%e5%99%a8%e7%bd%91%e7%bb%9c">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>05-容器网络</td>
                    <td class="has-text-right" >
                        <div class="tag-number">7</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/09-dashboard">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>09-Dashboard</td>
                    <td class="has-text-right" >
                        <div class="tag-number">7</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/10-%e7%ac%94%e8%ae%b0">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>10-笔记</td>
                    <td class="has-text-right" >
                        <div class="tag-number">7</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%b8%b8%e7%94%a8%e5%b7%a5%e5%85%b7">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>常用工具</td>
                    <td class="has-text-right" >
                        <div class="tag-number">7</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%be%ae%e6%9c%8d%e5%8a%a1%e4%b8%9a%e5%8a%a1">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>微服务业务</td>
                    <td class="has-text-right" >
                        <div class="tag-number">7</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/git">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Git</td>
                    <td class="has-text-right" >
                        <div class="tag-number">6</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/mysql">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>MySQL</td>
                    <td class="has-text-right" >
                        <div class="tag-number">6</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/registry">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Registry</td>
                    <td class="has-text-right" >
                        <div class="tag-number">6</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>开发环境配置</td>
                    <td class="has-text-right" >
                        <div class="tag-number">6</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/01-%e5%ae%b9%e5%99%a8%e6%8a%80%e6%9c%af">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>01-容器技术</td>
                    <td class="has-text-right" >
                        <div class="tag-number">5</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/golang">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Golang</td>
                    <td class="has-text-right" >
                        <div class="tag-number">5</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/traefik">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Traefik</td>
                    <td class="has-text-right" >
                        <div class="tag-number">5</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%8e%9f%e7%90%86">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>原理</td>
                    <td class="has-text-right" >
                        <div class="tag-number">5</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/dockerfile-guide">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Dockerfile-Guide</td>
                    <td class="has-text-right" >
                        <div class="tag-number">4</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%ae%98%e6%96%b9%e5%ba%93">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>官方库</td>
                    <td class="has-text-right" >
                        <div class="tag-number">4</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e9%a2%86%e5%9f%9f%e9%a9%b1%e5%8a%a8%e8%ae%be%e8%ae%a1">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>领域驱动设计</td>
                    <td class="has-text-right" >
                        <div class="tag-number">4</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/06-%e4%bd%9c%e4%b8%9a%e8%b0%83%e5%ba%a6%e4%b8%8e%e8%b5%84%e6%ba%90%e7%ae%a1%e7%90%86">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>06-作业调度与资源管理</td>
                    <td class="has-text-right" >
                        <div class="tag-number">3</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/go-web">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Go-Web</td>
                    <td class="has-text-right" >
                        <div class="tag-number">3</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/http">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>HTTP</td>
                    <td class="has-text-right" >
                        <div class="tag-number">3</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-net">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-net</td>
                    <td class="has-text-right" >
                        <div class="tag-number">3</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%be%ae%e6%9c%8d%e5%8a%a1%e5%b9%b3%e5%8f%b0">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>微服务平台</td>
                    <td class="has-text-right" >
                        <div class="tag-number">3</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/02-%e9%9b%86%e7%be%a4%e6%90%ad%e5%bb%ba">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>02-集群搭建</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/08-%e7%9b%91%e6%8e%a7%e4%b8%8e%e6%97%a5%e5%bf%97">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>08-监控与日志</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/apimachinery">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>apimachinery</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/etcd">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Etcd</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/init-system">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>init-system</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/kit">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>kit</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/pkg">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>pkg</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/service-mesh">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Service-mesh</td>
                    <td class="has-text-right" >
                        <div class="tag-number">2</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/04-%e6%8c%81%e4%b9%85%e5%8c%96%e5%ad%98%e5%82%a8">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>04-持久化存储</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/07-%e5%ae%b9%e5%99%a8%e8%bf%90%e8%a1%8c%e6%97%b6">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>07-容器运行时</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/goland">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Goland</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/ingress">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Ingress</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/nginx-ingress">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>nginx-ingress</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-io">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-io</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-log">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-log</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-os">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-os</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-syscall">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-syscall</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/package-text">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>package-text</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/proxy">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Proxy</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/runtime">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>runtime</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/skopeo">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>Skopeo</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/transport">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>transport</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/webassembly">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>WebAssembly</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e4%ba%a7%e5%93%81%e6%89%8b%e5%86%8c">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>产品手册</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%85%b3%e4%ba%8e">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>关于</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e5%ae%98%e6%96%b9%e6%96%87%e7%ab%a0">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>官方文章</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>正则表达式</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li></ul>
  </div>
</div>
<script src="/js/jquery-2.2.4.893e90f6230962e42231635df650f20544ad22affc3ee396df768eaa6bc5a6a2.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="></script>
<script src="/js/feather.4.22.0.1ab07abeb9975f283f6b5f29451981be680fbf77ea778f991d457511d210476a.js" integrity="sha256-GrB6vrmXXyg/a18pRRmBvmgPv3fqd4&#43;ZHUV1EdIQR2o="></script>
<script src="/js/modernizr-3.6.0.e013a1e54e3c19d83537ba42b900d34451e5e4b2e789be27a02ac9b152edb741.js" integrity="sha256-4BOh5U48Gdg1N7pCuQDTRFHl5LLnib4noCrJsVLtt0E="></script>
<script src="/js/refresh.f6a5a7cd6b7a72867ff68f6ab208dd115915f6bd3a2269803d3f1835373ad619.js" integrity="sha256-9qWnzWt6coZ/9o9qsgjdEVkV9r06ImmAPT8YNTc61hk="></script>

<script>
  window.MathJax = {
    loader: {
      load: ['core', 'input/tex-base', 'output/chtml'],  
      source: {
        'core': '\/js\/mathjax\/core.d48fedf25c74c54fa6bf79646de92b02155872bdc4f5f7d0bbfc662523d8b4f5.js',
        'input/tex-base': '\/js\/mathjax\/tex-base.1b68b8741dfc54e8f7222f88bea8ffcfc57ac54b2a2d8f4edf6800aa44d49441.js',
        'output/chtml': '\/js\/mathjax\/chtml.926cd166e0f8c1f8a566a718d60c9c58a2b7142b156d30d5f02cec7c3b0ad60a.js',
        'output/chtml/fonts/tex': '\/js\/mathjax\/tex_out.b8b2bb939c0dae84bf1390bfe6d32af13e83f647cdac01d544d2a7a517477e9d.js'
      },
    },
    chtml: {
      fontURL: '/fonts' 
    },
  };
</script>

<script src="/js/mathjax/startup.234a2513e6bdbc1eee06ca19abceca30fe4034e82afb373c08274c1ba2feb1a6.js" integrity="sha256-I0olE&#43;a9vB7uBsoZq87KMP5ANOgq&#43;zc8CCdMG6L&#43;saY="></script>
<script src="/js/highlight.9.18.1.b1c58829c55afcc1f568022af4b08ed8976da404d2990b7535bd8e19c0e3310c.js" integrity="sha256-scWIKcVa/MH1aAIq9LCO2JdtpATSmQt1Nb2OGcDjMQw="></script>
<script src="/js/highlightjs-line-numbers.2.7.0.min.ddfe282e07b7ec1ed069c23f92c7c8216ddb3f1879c4e962d37fd52adbd15a05.js" integrity="sha256-3f4oLge37B7QacI/ksfIIW3bPxh5xOli03/VKtvRWgU="></script>

<script>
  hljs.initHighlightingOnLoad();
  hljs.initLineNumbersOnLoad();
  document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('.codeinline').forEach((block) => {
      hljs.highlightBlock(block);
    });
  });
</script>

</body>
</html>