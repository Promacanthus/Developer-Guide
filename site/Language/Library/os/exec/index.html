



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Go language full stack development guide">
      
      
        <link rel="canonical" href="https://promacanthus.github.io/Golang-Guide/Language/Library/os/exec/">
      
      
        <meta name="author" content="bowen zhu">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>package exec - Golang Guide</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#package-exec" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://promacanthus.github.io/Golang-Guide/" title="Golang Guide" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Golang Guide
            </span>
            <span class="md-header-nav__topic">
              
                package exec
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://promacanthus.github.io/Golang-Guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    promacanthus/Golang-Guide
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://promacanthus.github.io/Golang-Guide/" title="Golang Guide" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Golang Guide
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://promacanthus.github.io/Golang-Guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    promacanthus/Golang-Guide
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Welcome to Golang-Guide" class="md-nav__link">
      Welcome to Golang-Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Frameworks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Frameworks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/常用框架/" title="框架" class="md-nav__link">
      框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/微服务框架对比/" title="Microservices in Go" class="md-nav__link">
      Microservices in Go
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Go Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Go Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-1" type="checkbox" id="nav-2-3-1">
    
    <label class="md-nav__link" for="nav-2-3-1">
      HTTP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-1">
        HTTP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-Web/HTTP/HTTP/" title="HTTP" class="md-nav__link">
      HTTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Go kit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Go kit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/FAQ/" title="Go-kit" class="md-nav__link">
      Go-kit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/架构与设计/" title="架构与设计" class="md-nav__link">
      架构与设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-3" type="checkbox" id="nav-2-4-3">
    
    <label class="md-nav__link" for="nav-2-4-3">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-3">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/00-Endpoints(REST)/" title="REST Endpoints" class="md-nav__link">
      REST Endpoints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/01-Endpoints(gRPC)/" title="gRPC Endpoint" class="md-nav__link">
      gRPC Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/API-Monitoring/" title="API Monitoring" class="md-nav__link">
      API Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/Hystrix-Circuit-Breaker/" title="Hystrix Circuit Breaker" class="md-nav__link">
      Hystrix Circuit Breaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/Logging(ELK)/" title="Logging(ELK)" class="md-nav__link">
      Logging(ELK)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/Logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/Rate-Limiting/" title="Rate Limiting" class="md-nav__link">
      Rate Limiting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Go-kit/Examples/Service-Discovery/" title="Service Discovery" class="md-nav__link">
      Service Discovery
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      Protocol Buffers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        Protocol Buffers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/01-简介/" title="什么是Protocol Buffers" class="md-nav__link">
      什么是Protocol Buffers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/02-proto3指南/" title="`proto3`指南" class="md-nav__link">
      `proto3`指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/03-样式指南/" title="样式指南" class="md-nav__link">
      样式指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/04-编码/" title="编码" class="md-nav__link">
      编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/05-技术/" title="技术" class="md-nav__link">
      技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/06-第三方插件/" title="第三方插件" class="md-nav__link">
      第三方插件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/07-Go语言指南/" title="`Protocol Buffers`：Go语言指南" class="md-nav__link">
      `Protocol Buffers`：Go语言指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/08-Go生成代码指南/" title="Go生成代码指南" class="md-nav__link">
      Go生成代码指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/Protocol-Buffers/09-proto3规范/" title="`proto3`规范" class="md-nav__link">
      `proto3`规范
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      gRPC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        gRPC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/01-gRPC简介/" title="gRPC" class="md-nav__link">
      gRPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/02-gRPC概念/" title="gRPC概念" class="md-nav__link">
      gRPC概念
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/03-认证/" title="认证" class="md-nav__link">
      认证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/04-错误处理和调试/" title="错误处理" class="md-nav__link">
      错误处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/05-基准化分析法/" title="基准化分析法" class="md-nav__link">
      基准化分析法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/06-gRPC编写格式/" title="gRPC over HTTP2" class="md-nav__link">
      gRPC over HTTP2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/07-Golang快速入门/" title="Go 快速入门" class="md-nav__link">
      Go 快速入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/08-Golang应用/" title="gRPC Basic - Go" class="md-nav__link">
      gRPC Basic - Go
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Frameworks/gRPC/09-Go生成代码指南/" title="Go生成代码指南" class="md-nav__link">
      Go生成代码指南
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      IDE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        IDE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      VSCode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        VSCode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/01-扩展程序中的设置与命令/" title="扩展程序中的设置与命令" class="md-nav__link">
      扩展程序中的设置与命令
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/02-编译调试扩展程序/" title="在VSCode中编译、调试并在侧边加载扩展程序" class="md-nav__link">
      在VSCode中编译、调试并在侧边加载扩展程序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/03-使用VSCode调试Go代码/" title="使用`VSCode`调试Go语言" class="md-nav__link">
      使用`VSCode`调试Go语言
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/04-VSCode中Go的功能/" title="VScode中Go的功能" class="md-nav__link">
      VScode中Go的功能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/05-VSCode支持Go-Modules/" title="Go Modules" class="md-nav__link">
      Go Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/06-扩展程序依赖的Go工具/" title="Go扩展程序依赖的Go工具" class="md-nav__link">
      Go扩展程序依赖的Go工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/07-FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/08-扩展程序中设置GOPATH/" title="Go 扩展程序中设置`GOPATH`" class="md-nav__link">
      Go 扩展程序中设置`GOPATH`
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/09-保存时自动执行的功能/" title="保存时自动执行的功能" class="md-nav__link">
      保存时自动执行的功能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/10-烟囱测试/" title="烟囱测试" class="md-nav__link">
      烟囱测试
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/11.使用Go执行VScode的任务/" title="使用Go执行VSCode的任务" class="md-nav__link">
      使用Go执行VSCode的任务
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/12-使用扩展程序最新的测试版/" title="使用扩展程程序最新的测试版" class="md-nav__link">
      使用扩展程程序最新的测试版
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../IDE/VSCode/13-VSCode中使用Go语言服务器/" title="Go 语言服务器" class="md-nav__link">
      Go 语言服务器
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Issues
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Issues
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Issues/FAQ/" title="错误和解决方案" class="md-nav__link">
      错误和解决方案
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Basic
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Basic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/00-Go工具/" title="00 Go工具" class="md-nav__link">
      00 Go工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/00-程序结构/" title="程序结构" class="md-nav__link">
      程序结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/01-GOPATH和工作区/" title="版本的特性：" class="md-nav__link">
      版本的特性：
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/02-命令源码文件/" title="02 命令源码文件" class="md-nav__link">
      02 命令源码文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/03-库源码文件/" title="03 库源码文件" class="md-nav__link">
      03 库源码文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/04-程序实体/" title="程序实体" class="md-nav__link">
      程序实体
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/05-数组和切片/" title="数组和切片" class="md-nav__link">
      数组和切片
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/06-链表/" title="链表" class="md-nav__link">
      链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/07-字典/" title="字典" class="md-nav__link">
      字典
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/08-通道/" title="通道" class="md-nav__link">
      通道
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/09-函数/" title="函数" class="md-nav__link">
      函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/10-结构体类型/" title="结构体类型" class="md-nav__link">
      结构体类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/11-接口类型/" title="接口类型" class="md-nav__link">
      接口类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/12-指针/" title="指针" class="md-nav__link">
      指针
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/13-语句执行规则/" title="Go语句及其执行规则" class="md-nav__link">
      Go语句及其执行规则
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/14-流程控制语句/" title="流程控制语句" class="md-nav__link">
      流程控制语句
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/15-错误处理/" title="错误处理" class="md-nav__link">
      错误处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/16-panic&recover&defer/" title="异常" class="md-nav__link">
      异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/17-sync/" title="sync" class="md-nav__link">
      sync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/18-atomic/" title="原子操作" class="md-nav__link">
      原子操作
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/19-context/" title="Context" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/20-Unicode/" title="Unicode" class="md-nav__link">
      Unicode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/21-strings/" title="strings" class="md-nav__link">
      strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/22-bytes/" title="bytes" class="md-nav__link">
      bytes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/23-io/" title="io" class="md-nav__link">
      io
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/24-bufio/" title="bufio" class="md-nav__link">
      bufio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/25-os/" title="os" class="md-nav__link">
      os
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/26.net/" title="net" class="md-nav__link">
      net
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/Go-Modules/" title="Go Modules" class="md-nav__link">
      Go Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Basic/测试规则与流程/" title="测试的基本规则与流程" class="md-nav__link">
      测试的基本规则与流程
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
    
    <label class="md-nav__link" for="nav-5-2">
      Library
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Library
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../context/" title="package context" class="md-nav__link">
      package context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../flag/" title="package flag" class="md-nav__link">
      package flag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../log/" title="packages log" class="md-nav__link">
      packages log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-4" type="checkbox" id="nav-5-2-4">
    
    <label class="md-nav__link" for="nav-5-2-4">
      Io
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-4">
        Io
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../io/ioutil/" title="package ioutil" class="md-nav__link">
      package ioutil
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-5" type="checkbox" id="nav-5-2-5">
    
    <label class="md-nav__link" for="nav-5-2-5">
      Log
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-5">
        Log
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../log/syslog/" title="package syslog" class="md-nav__link">
      package syslog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-6" type="checkbox" id="nav-5-2-6">
    
    <label class="md-nav__link" for="nav-5-2-6">
      Net
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-6">
        Net
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../net/http/" title="package http" class="md-nav__link">
      package http
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../net/rpc/" title="rpc" class="md-nav__link">
      rpc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-7" type="checkbox" id="nav-5-2-7" checked>
    
    <label class="md-nav__link" for="nav-5-2-7">
      Os
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-7">
        Os
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        package exec
      </label>
    
    <a href="./" title="package exec" class="md-nav__link md-nav__link--active">
      package exec
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    变量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lookpath" class="md-nav__link">
    函数LookPath
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cmd" class="md-nav__link">
    类型Cmd
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command" class="md-nav__link">
    函数Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commandcontext" class="md-nav__link">
    函数CommandContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdcombinedoutput" class="md-nav__link">
    方法 (*Cmd)CombinedOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdoutput" class="md-nav__link">
    方法 (*Cmd)Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdrun" class="md-nav__link">
    方法 (*Cmd)Run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstart" class="md-nav__link">
    方法 (*Cmd)Start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstderrpipe" class="md-nav__link">
    方法 (*Cmd)StderrPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstdinpipe" class="md-nav__link">
    方法 (*Cmd)StdinPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstdoutpipe" class="md-nav__link">
    方法 (*Cmd)StdoutPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdwait" class="md-nav__link">
    方法 (*Cmd)Wait
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error" class="md-nav__link">
    类型Error
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#errorerror" class="md-nav__link">
    方法 (*Error)Error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exiterror" class="md-nav__link">
    类型ExitError
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exiterrorerror" class="md-nav__link">
    方法 (*ExitError)Error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Regexp
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Regexp
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Regexp/基础/" title="正则表达式" class="md-nav__link">
      正则表达式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Regexp/常用/" title="常用" class="md-nav__link">
      常用
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    变量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lookpath" class="md-nav__link">
    函数LookPath
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cmd" class="md-nav__link">
    类型Cmd
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command" class="md-nav__link">
    函数Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commandcontext" class="md-nav__link">
    函数CommandContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdcombinedoutput" class="md-nav__link">
    方法 (*Cmd)CombinedOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdoutput" class="md-nav__link">
    方法 (*Cmd)Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdrun" class="md-nav__link">
    方法 (*Cmd)Run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstart" class="md-nav__link">
    方法 (*Cmd)Start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstderrpipe" class="md-nav__link">
    方法 (*Cmd)StderrPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstdinpipe" class="md-nav__link">
    方法 (*Cmd)StdinPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdstdoutpipe" class="md-nav__link">
    方法 (*Cmd)StdoutPipe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmdwait" class="md-nav__link">
    方法 (*Cmd)Wait
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error" class="md-nav__link">
    类型Error
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#errorerror" class="md-nav__link">
    方法 (*Error)Error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exiterror" class="md-nav__link">
    类型ExitError
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exiterrorerror" class="md-nav__link">
    方法 (*ExitError)Error
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="package-exec">package exec</h1>
<pre><code class="go">import &quot;os/exec&quot;
</code></pre>

<p><code>exec</code>包用于运行外部命令,它包装了<code>os.StartProcess</code>，使它更容易重映射到<code>stdin</code>和<code>stdout</code>，或者使用管道连接I/O并进行其他调整。</p>
<p>与C语言或者其他编程语言的“系统”库调用不同，<code>os/exec</code>包有意不调用系统<code>shell</code>，也不扩展任何<code>glob patterns</code>或处理一般情况下由<code>shell</code>完成的其他扩展，管道或重定向。</p>
<blockquote>
<p><code>glob patterns</code>是一种匹配模式，运用通配符来匹配一个文件列表。</p>
<p><code>exec</code>包的行为更像是C的“exec”系列函数的功能。</p>
</blockquote>
<ul>
<li>要扩展<code>glob patterns</code>或者直接调用<code>shell</code>时：</li>
<li>要注意转义任何危险的输入</li>
<li>也可以使用<code>path/filepath</code>包的<code>Glob</code>函数</li>
<li>要扩展环境变量，请使用<code>os</code>包的<code>ExpandEnv</code>。</li>
</ul>
<p>请注意，此包中的示例是在Unix系统中云的，可能无法在Windows上运行，并且不能在使用<code>golang.org</code>和<code>godoc.org</code>的Go Playground中运行。</p>
<h2 id="_1">变量</h2>
<pre><code class="go">var ErrNotFound = errors.New(&quot;executable file not found in $PATH&quot;)
</code></pre>

<p><code>ErrNotFound</code>是路径搜索未能找到可执行文件时导致的错误。</p>
<h2 id="lookpath">函数LookPath</h2>
<pre><code class="go">func LookPath(file string) (string, error)
</code></pre>

<p><code>LookPath</code>在<code>PATH</code>环境变量命名的目录中搜索可执行文件<code>file</code>。如果<code>file</code>包含斜杠，则直接尝试搜索且不查询<code>PATH</code>。返回结果是<strong>绝对路径</strong>或<strong>相对于当前目录的相对路径</strong>。</p>
<h3 id="_2">示例</h3>
<pre><code class="go">path, err := exec.LookPath(&quot;fortune&quot;)
if err != nil {
    log.Fatal(&quot;installing fortune in your future&quot;)
}
fmt.Printf(&quot;fortune is available at %s\n&quot;, path)
</code></pre>

<h2 id="cmd">类型Cmd</h2>
<pre><code class="go">type Cmd struct {
    // Path是所要运行命令的路径，这是唯一必须设置为非零值的字段。
    // 如果是Path是相对的，则相对于{Dir}进行评估。
    Path string

    // Args保存命令行参数，包括命令为Args[0]。
    // 如果Args字段为空或为nil，则直接运行上述{Path}字段。
    // 通常情况下，Path和Args都是通过调用Command来设置的。
    Args []string

    // Env指定该进程的环境变量。每个条目都是“key=value”的格式。
    // 如果Env为nil，那么新创建的进程使用当前进程的环境变量。
    // 在此Env切片中，如果包含的环境变量中有重复的键值，
    // 那么每个重复的键值中只有最新的值会被使用。
    Env []string

    // Dir指定命令的工作目录。
    // 如果Dir是空字符串，那么{Run}会在发起调用的进程的当前目录中运行该命令。
    Dir string

    // Stdin指定进程的标准输入。
    // 如果Stdin为nil，则进程从null设备（os.DevNull）读取。
    // 如果Stdin是*os.File，则进程的标准输入直接连接到该文件。
    // 否则，在执行命令期间，单独的goroutine从Stdin读取并通过管道将数据传递给该命令。
    // 在这种情况下，{Wait}将会一直等待直到goroutine停止拷贝数据，
    // 即，已经读取到Stdin的末尾（EOF或读取错误），或数据写入管道时出错。
    Stdin io.Reader

    // Stdout和Stderr指定进程的标准输出和标准错误输出。
    // 如果其中一个为nil，则{Run}将相应的文件描述符连接到空设备（os.DevNull）。
    // 如果其中一个是*os.File，则进程相应的输出将直接连接到该文件。
    // 否则，在命令执行期间，单独的goroutine通过管道从进程读取并将数据传递给对应的{Writer}。
    // 在这种情况下，{Wait}将会一直等待直到goroutine读取到EOF或遇到错误。
    // 如果Stdout和Stderr是同一个writer，并且具有可以判等（==）的类型，则一次最多只有一个goroutine调用写入函数。
    Stdout io.Writer
    Stderr io.Writer

    // ExtraFiles指定新进程要继承的其他已打开文件。
    // 它不包括标准输入，标准输出或标准错误输出。
    // 如果非nil，那么条目i变为文件描述符3+i。
    // Windows系统不支持ExtraFiles。
    ExtraFiles []*os.File

    // SysProcAttr包含可选的操作系统特定属性。
    // {Run}将它作为os.ProcAttr的Sys字段传递给os.StartProcess。
    SysProcAttr *syscall.SysProcAttr

    // 一旦启动，Process就是底层进程。
    Process *os.Process

    // ProcessState包含已退出进程的信息，在一次调用后无论处于{Wait}或{Run}都可用。
    ProcessState *os.ProcessState
    // 包含已过滤或未导出的字段
}
</code></pre>

<p>Cmd表示正在准备或运行的外部命令，在调用其<code>Run</code>，<code>Output</code>或<code>CombinedOutput</code>方法后，无法被重用。</p>
<h3 id="command">函数Command</h3>
<pre><code class="go">func Command(name string, arg ...string) *Cmd
</code></pre>

<p><code>Command</code>返回<code>Cmd</code>结构以使用给定的参数执行指定的程序，它仅在返回的Cmd结构中设置<code>Path</code>和<code>Args</code>。</p>
<p>如果<code>name</code>不包含路径分隔符，则<code>Command</code>使用<code>LookPath</code>将<code>name</code>解析为完整路径（如果可能）。否则，它直接使用<code>name</code>作为<code>Path</code>。</p>
<p>返回的<code>Cmd结构</code>中<code>Args</code>字段是从命令<code>name</code>后紧跟的<code>arg</code>元素构造而来，因此在<code>arg</code>中不需要再包含命令<code>name</code>。例如，<code>Command（“echo”，“hello”）</code>。<code>Args[0]</code>始终是<code>name</code>，而不可能是已解析的路径。</p>
<p>在<code>Windows</code>上，进程将整个命令行作为单个字符串接收并执行自己的解析。<code>Command</code>使用与应用程序兼容的算法<code>CommandLineToArgvW</code>（这是最常用的方式）将<code>Args</code>组合并引用到命令行字符串中。值得注意的例外是<code>msiexec.exe</code>和<code>cmd.exe</code>（包括所有批处理文件<code>batch files</code>），它们具有不同的反引用算法。在这些或其他类似情况下，可以自己进行引用并在<code>SysProcAttr.CmdLine</code>中提供完整的命令行，让Args空着。</p>
<pre><code class="go">cmd := exec.Command(&quot;tr&quot;, &quot;a-z&quot;, &quot;A-Z&quot;)
cmd.Stdin = strings.NewReader(&quot;some input&quot;)
var out bytes.Buffer
cmd.Stdout = &amp;out
err := cmd.Run()
if err != nil {
    log.Fatal(err)
}
fmt.Printf(&quot;in all caps: %q\n&quot;, out.String())
</code></pre>

<pre><code class="go">cmd := exec.Command(&quot;prog&quot;)
cmd.Env = append(os.Environ(),
    &quot;FOO=duplicate_value&quot;, // 重复值将被忽略
    &quot;FOO=actual_value&quot;,    // 最新值将被使用
)
if err := cmd.Run(); err != nil {
    log.Fatal(err)
}
</code></pre>

<h3 id="commandcontext">函数CommandContext</h3>
<pre><code class="go">func CommandContext(ctx context.Context, name string, arg ...string) *Cmd
</code></pre>

<p><code>CommandContext</code>与<code>Command</code>类似，但包含上下文。</p>
<p>如果在命令自行完成之前<code>context</code>已经结束，则提供的<code>context</code>用于终止进程（通过调用<code>os.Process.Kill</code>）。</p>
<pre><code class="go">ctx, cancel := context.WithTimeout(context.Background(), 100*time.Millisecond)
defer cancel()

if err := exec.CommandContext(ctx, &quot;sleep&quot;, &quot;5&quot;).Run(); err != nil {
    // 这将在100毫秒后失败。
    // 5秒的sleep进程将会被中断。
}
</code></pre>

<h3 id="cmdcombinedoutput">方法 (*Cmd)CombinedOutput</h3>
<pre><code class="go">func (c *Cmd) CombinedOutput() ([]byte, error)
</code></pre>

<p><code>CombinedOutput</code>运行命令并返回标准输出和标准错误错误输出的组合。</p>
<pre><code class="go">cmd := exec.Command(&quot;sh&quot;, &quot;-c&quot;, &quot;echo stdout; echo 1&gt;&amp;2 stderr&quot;)
stdoutStderr, err := cmd.CombinedOutput()
if err != nil {
    log.Fatal(err)
}
fmt.Printf(&quot;%s\n&quot;, stdoutStderr)
</code></pre>

<h3 id="cmdoutput">方法 (*Cmd)Output</h3>
<pre><code class="go">func (c *Cmd) Output() ([]byte, error)
</code></pre>

<p><code>Output</code>运行命令并返回其标准输出。任何返回的错误通常都是<code>*ExitError</code>类型。如果<code>c.Stderr</code>为<code>nil</code>，则<code>Output</code>填充<code>ExitError.Stderr</code>。</p>
<pre><code class="go">out, err := exec.Command(&quot;date&quot;).Output()
if err != nil {
    log.Fatal(err)
}
fmt.Printf(&quot;The date is %s\n&quot;, out)
</code></pre>

<h3 id="cmdrun">方法 (*Cmd)Run</h3>
<pre><code class="go">func (c *Cmd) Run() error
</code></pre>

<p><code>Run</code>启动指定的命令并等待它完成。</p>
<ul>
<li>如果命令运行，在标准输入、标准输出和标准错误输出之间复制数据没有问题并且退出状态为零，那么返回的错误为<code>nil</code>。</li>
<li>如果命令启动但未成功完成，则返回的错误类型为<code>*ExitError</code>。对于其他情况，可能会返回其他错误类型。</li>
</ul>
<p>如果正在被调用的goroutine已使用<code>runtime.LockOSThread</code>锁定操作系统线程并修改了任何可继承的OS级别线程状态（例如，Linux或Plan 9名称空间），则新进程将继承调用方的线程状态。</p>
<pre><code class="go">cmd := exec.Command(&quot;sleep&quot;, &quot;1&quot;)
log.Printf(&quot;Running command and waiting for it to finish...&quot;)
err := cmd.Run()
log.Printf(&quot;Command finished with error: %v&quot;, err)
</code></pre>

<h3 id="cmdstart">方法 (*Cmd)Start</h3>
<pre><code class="go">func (c *Cmd) Start() error
</code></pre>

<p><code>Start</code>启动指定的命令，但不等待它完成。</p>
<p>一旦命令退出，<code>Wait</code>方法将返回退出状态码并释放相关资源。</p>
<pre><code class="go">cmd := exec.Command(&quot;sleep&quot;, &quot;5&quot;)
err := cmd.Start()
if err != nil {
    log.Fatal(err)
}
log.Printf(&quot;Waiting for command to finish...&quot;)
err = cmd.Wait()
log.Printf(&quot;Command finished with error: %v&quot;, err)
</code></pre>

<h3 id="cmdstderrpipe">方法 (*Cmd)StderrPipe</h3>
<pre><code class="go">func (c *Cmd) StderrPipe() (io.ReadCloser, error)
</code></pre>

<p><code>StderrPipe</code>返回一个管道，该管道将在命令启动时连接到命令的标准错误输出。</p>
<p><code>Wait</code>将在看到命令退出后关闭管道，因此大多数调用者不需要自己关闭管道; 但是，需要注意的是在管道的所有读取完成之前调用<code>Wait</code>是不正确的。同样的，使用<code>StderrPipe</code>时使用<code>Run</code>也是不正确的。</p>
<p>有关习惯用法，请参阅StdoutPipe示例。</p>
<pre><code class="go">cmd := exec.Command(&quot;sh&quot;, &quot;-c&quot;, &quot;echo stdout; echo 1&gt;&amp;2 stderr&quot;)
stderr, err := cmd.StderrPipe()
if err != nil {
    log.Fatal(err)
}

if err := cmd.Start(); err != nil {
    log.Fatal(err)
}

slurp, _ := ioutil.ReadAll(stderr)
fmt.Printf(&quot;%s\n&quot;, slurp)

if err := cmd.Wait(); err != nil {
    log.Fatal(err)
}
</code></pre>

<h3 id="cmdstdinpipe">方法 (*Cmd)StdinPipe</h3>
<pre><code class="go">func (c *Cmd) StdinPipe() (io.WriteCloser, error)
</code></pre>

<p><code>StdinPipe</code>返回一个管道，该管道将在命令启动时连接到命令的标准输入。<code>Wait</code>查看到命令退出后将自动关闭管道。调用者只需要调用<code>Close</code>来强制管道更快关闭。例如，如果正在运行的命令在标准输入关闭之后不会退出，则调用者必须关闭管道。</p>
<pre><code class="go">cmd := exec.Command(&quot;cat&quot;)
stdin, err := cmd.StdinPipe()
if err != nil {
    log.Fatal(err)
}

go func() {
    defer stdin.Close()
    io.WriteString(stdin, &quot;values written to stdin are passed to cmd's standard input&quot;)
}()

out, err := cmd.CombinedOutput()
if err != nil {
    log.Fatal(err)
}

fmt.Printf(&quot;%s\n&quot;, out)
</code></pre>

<h3 id="cmdstdoutpipe">方法 (*Cmd)StdoutPipe</h3>
<pre><code class="go">func (c *Cmd) StdoutPipe() (io.ReadCloser, error)
</code></pre>

<p><code>StdoutPipe</code>返回一个管道，该管道将在命令启动时连接到命令的标准输出。</p>
<p><code>Wait</code>将在看到命令退出后关闭管道，因此大多数调用者不需要自己关闭管道; 但是，值得注意的是在管道的所有读取完成之前调用<code>Wait</code>是不正确的。同样的，使用<code>StdoutPipe</code>时调用Run是不正确的。有关习惯用法，请参阅示例。</p>
<pre><code class="go">cmd := exec.Command(&quot;echo&quot;, &quot;-n&quot;, `{&quot;Name&quot;: &quot;Bob&quot;, &quot;Age&quot;: 32}`)
stdout, err := cmd.StdoutPipe()
if err != nil {
    log.Fatal(err)
}
if err := cmd.Start(); err != nil {
    log.Fatal(err)
}
var person struct {
    Name string
    Age  int
}
if err := json.NewDecoder(stdout).Decode(&amp;person); err != nil {
    log.Fatal(err)
}
if err := cmd.Wait(); err != nil {
    log.Fatal(err)
}
fmt.Printf(&quot;%s is %d years old\n&quot;, person.Name, person.Age)
</code></pre>

<h3 id="cmdwait">方法 (*Cmd)Wait</h3>
<pre><code class="go">func (c *Cmd) Wait() error
</code></pre>

<p><code>Wait</code>等待命令退出并等待任何复制到标准输入或者从标准输出或标准错误输出复制完成。</p>
<p>该命令必须由<code>Start</code>启动。</p>
<ul>
<li>如果命令运行，在标准输入、标准输出和标准错误输出之间复制数据没有问题且退出状态码为零，那么，返回的错误为<code>nil</code>。</li>
<li>如果命令无法运行或未成功完成，则错误类型为<code>*ExitError</code>。对于I/O问题，可能会返回其他错误类型。</li>
</ul>
<p>如果<code>c.Stdin</code>，<code>c.Stdout</code>或<code>c.Stderr</code>中的任何一个不是<code>*os.File</code>，那么<code>Wait</code>也会等待相应的I/O循环复制到进程或从进程中复制完成。</p>
<p><code>Wait</code>释放与<code>Cmd</code>相关的任何资源。</p>
<h2 id="error">类型Error</h2>
<pre><code class="go">type Error struct {
    // Name是发生错误的文件名。
    Name string
    // Err是潜在的错误。
    Err error
}
</code></pre>

<p>Error是<code>LookPath</code>无法将文件归类为可执行文件时返回的。</p>
<h3 id="errorerror">方法 (*Error)Error</h3>
<pre><code class="go">func (e *Error) Error() string
</code></pre>

<h2 id="exiterror">类型ExitError</h2>
<pre><code class="go">type ExitError struct {
    *os.ProcessState

    // 如果没有收集标准错误输出，Stderr会保留Cmd.Output方法的标准错误输出的子集。
    // 如果错误输出很长，Stderr可能只包含输出的前缀和后缀，中间替换为相关省略字节数的文本。
    // 提供Stderr是用于代码调试，来包含在错误消息中。具有其他需求的用户应根据需要重定向Cmd.Stderr。
    Stderr []byte
}
</code></pre>

<p>ExitError报告命令退出失败。</p>
<h3 id="exiterrorerror">方法 (*ExitError)Error</h3>
<pre><code class="go">func (e *ExitError) Error() string
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../net/rpc/" title="rpc" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                rpc
              </span>
            </div>
          </a>
        
        
          <a href="../../../Regexp/基础/" title="正则表达式" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                正则表达式
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>