



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Go language full stack development guide">
      
      
        <link rel="canonical" href="https://promacanthus.github.io/Golang-Guide/Language/Library/flag/">
      
      
        <meta name="author" content="bowen zhu">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>package flag - Golang Guide</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#package-flag" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://promacanthus.github.io/Golang-Guide/" title="Golang Guide" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Golang Guide
            </span>
            <span class="md-header-nav__topic">
              
                package flag
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://promacanthus.github.io/Golang-Guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    promacanthus/Golang-Guide
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://promacanthus.github.io/Golang-Guide/" title="Golang Guide" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Golang Guide
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://promacanthus.github.io/Golang-Guide/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    promacanthus/Golang-Guide
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome to Golang-Guide" class="md-nav__link">
      Welcome to Golang-Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Frameworks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Frameworks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/常用框架/" title="框架" class="md-nav__link">
      框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/微服务框架对比/" title="Microservices in Go" class="md-nav__link">
      Microservices in Go
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Go Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Go Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-1" type="checkbox" id="nav-2-3-1">
    
    <label class="md-nav__link" for="nav-2-3-1">
      HTTP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-1">
        HTTP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-Web/HTTP/HTTP/" title="HTTP" class="md-nav__link">
      HTTP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Go kit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Go kit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/FAQ/" title="Go-kit" class="md-nav__link">
      Go-kit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/架构与设计/" title="架构与设计" class="md-nav__link">
      架构与设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4-3" type="checkbox" id="nav-2-4-3">
    
    <label class="md-nav__link" for="nav-2-4-3">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-4-3">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/00-Endpoints(REST)/" title="REST Endpoints" class="md-nav__link">
      REST Endpoints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/01-Endpoints(gRPC)/" title="gRPC Endpoint" class="md-nav__link">
      gRPC Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/API-Monitoring/" title="API Monitoring" class="md-nav__link">
      API Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/Hystrix-Circuit-Breaker/" title="Hystrix Circuit Breaker" class="md-nav__link">
      Hystrix Circuit Breaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/Logging(ELK)/" title="Logging(ELK)" class="md-nav__link">
      Logging(ELK)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/Logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/Rate-Limiting/" title="Rate Limiting" class="md-nav__link">
      Rate Limiting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Go-kit/Examples/Service-Discovery/" title="Service Discovery" class="md-nav__link">
      Service Discovery
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      Protocol Buffers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        Protocol Buffers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/01-简介/" title="什么是Protocol Buffers" class="md-nav__link">
      什么是Protocol Buffers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/02-proto3指南/" title="`proto3`指南" class="md-nav__link">
      `proto3`指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/03-样式指南/" title="样式指南" class="md-nav__link">
      样式指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/04-编码/" title="编码" class="md-nav__link">
      编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/05-技术/" title="技术" class="md-nav__link">
      技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/06-第三方插件/" title="第三方插件" class="md-nav__link">
      第三方插件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/07-Go语言指南/" title="`Protocol Buffers`：Go语言指南" class="md-nav__link">
      `Protocol Buffers`：Go语言指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/08-Go生成代码指南/" title="Go生成代码指南" class="md-nav__link">
      Go生成代码指南
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/Protocol-Buffers/09-proto3规范/" title="`proto3`规范" class="md-nav__link">
      `proto3`规范
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      gRPC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        gRPC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/01-gRPC简介/" title="gRPC" class="md-nav__link">
      gRPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/02-gRPC概念/" title="gRPC概念" class="md-nav__link">
      gRPC概念
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/03-认证/" title="认证" class="md-nav__link">
      认证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/04-错误处理和调试/" title="错误处理" class="md-nav__link">
      错误处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/05-基准化分析法/" title="基准化分析法" class="md-nav__link">
      基准化分析法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/06-gRPC编写格式/" title="gRPC over HTTP2" class="md-nav__link">
      gRPC over HTTP2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/07-Golang快速入门/" title="Go 快速入门" class="md-nav__link">
      Go 快速入门
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/08-Golang应用/" title="gRPC Basic - Go" class="md-nav__link">
      gRPC Basic - Go
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Frameworks/gRPC/09-Go生成代码指南/" title="Go生成代码指南" class="md-nav__link">
      Go生成代码指南
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      IDE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        IDE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      VSCode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        VSCode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/01-扩展程序中的设置与命令/" title="扩展程序中的设置与命令" class="md-nav__link">
      扩展程序中的设置与命令
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/02-编译调试扩展程序/" title="在VSCode中编译、调试并在侧边加载扩展程序" class="md-nav__link">
      在VSCode中编译、调试并在侧边加载扩展程序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/03-使用VSCode调试Go代码/" title="使用`VSCode`调试Go语言" class="md-nav__link">
      使用`VSCode`调试Go语言
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/04-VSCode中Go的功能/" title="VScode中Go的功能" class="md-nav__link">
      VScode中Go的功能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/05-VSCode支持Go-Modules/" title="Go Modules" class="md-nav__link">
      Go Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/06-扩展程序依赖的Go工具/" title="Go扩展程序依赖的Go工具" class="md-nav__link">
      Go扩展程序依赖的Go工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/07-FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/08-扩展程序中设置GOPATH/" title="Go 扩展程序中设置`GOPATH`" class="md-nav__link">
      Go 扩展程序中设置`GOPATH`
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/09-保存时自动执行的功能/" title="保存时自动执行的功能" class="md-nav__link">
      保存时自动执行的功能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/10-烟囱测试/" title="烟囱测试" class="md-nav__link">
      烟囱测试
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/11.使用Go执行VScode的任务/" title="使用Go执行VSCode的任务" class="md-nav__link">
      使用Go执行VSCode的任务
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/12-使用扩展程序最新的测试版/" title="使用扩展程程序最新的测试版" class="md-nav__link">
      使用扩展程程序最新的测试版
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../IDE/VSCode/13-VSCode中使用Go语言服务器/" title="Go 语言服务器" class="md-nav__link">
      Go 语言服务器
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Issues
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Issues
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Issues/FAQ/" title="错误和解决方案" class="md-nav__link">
      错误和解决方案
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Basic
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Basic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/00-Go工具/" title="00 Go工具" class="md-nav__link">
      00 Go工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/00-程序结构/" title="程序结构" class="md-nav__link">
      程序结构
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/01-GOPATH和工作区/" title="版本的特性：" class="md-nav__link">
      版本的特性：
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/02-命令源码文件/" title="02 命令源码文件" class="md-nav__link">
      02 命令源码文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/03-库源码文件/" title="03 库源码文件" class="md-nav__link">
      03 库源码文件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/04-程序实体/" title="程序实体" class="md-nav__link">
      程序实体
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/05-数组和切片/" title="数组和切片" class="md-nav__link">
      数组和切片
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/06-链表/" title="链表" class="md-nav__link">
      链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/07-字典/" title="字典" class="md-nav__link">
      字典
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/08-通道/" title="通道" class="md-nav__link">
      通道
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/09-函数/" title="函数" class="md-nav__link">
      函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/10-结构体类型/" title="结构体类型" class="md-nav__link">
      结构体类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/11-接口类型/" title="接口类型" class="md-nav__link">
      接口类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/12-指针/" title="指针" class="md-nav__link">
      指针
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/13-语句执行规则/" title="Go语句及其执行规则" class="md-nav__link">
      Go语句及其执行规则
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/14-流程控制语句/" title="流程控制语句" class="md-nav__link">
      流程控制语句
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/15-错误处理/" title="错误处理" class="md-nav__link">
      错误处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/16-panic&recover&defer/" title="异常" class="md-nav__link">
      异常
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/17-sync/" title="sync" class="md-nav__link">
      sync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/18-atomic/" title="原子操作" class="md-nav__link">
      原子操作
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/19-context/" title="Context" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/20-Unicode/" title="Unicode" class="md-nav__link">
      Unicode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/21-strings/" title="strings" class="md-nav__link">
      strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/22-bytes/" title="bytes" class="md-nav__link">
      bytes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/23-io/" title="io" class="md-nav__link">
      io
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/24-bufio/" title="bufio" class="md-nav__link">
      bufio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/25-os/" title="os" class="md-nav__link">
      os
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/26.net/" title="net" class="md-nav__link">
      net
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/Go-Modules/" title="Go Modules" class="md-nav__link">
      Go Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Basic/测试规则与流程/" title="测试的基本规则与流程" class="md-nav__link">
      测试的基本规则与流程
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
    
    <label class="md-nav__link" for="nav-5-2">
      Library
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Library
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../context/" title="package context" class="md-nav__link">
      package context
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        package flag
      </label>
    
    <a href="./" title="package flag" class="md-nav__link md-nav__link--active">
      package flag
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    使用方式
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    方式一
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    方式二
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    方式三
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    命令行标识语法
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    示例
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    变量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    样例
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../log/" title="packages log" class="md-nav__link">
      packages log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-4" type="checkbox" id="nav-5-2-4">
    
    <label class="md-nav__link" for="nav-5-2-4">
      Io
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-4">
        Io
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../io/ioutil/" title="package ioutil" class="md-nav__link">
      package ioutil
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-5" type="checkbox" id="nav-5-2-5">
    
    <label class="md-nav__link" for="nav-5-2-5">
      Log
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-5">
        Log
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../log/syslog/" title="package syslog" class="md-nav__link">
      package syslog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-6" type="checkbox" id="nav-5-2-6">
    
    <label class="md-nav__link" for="nav-5-2-6">
      Net
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-6">
        Net
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../net/http/" title="package http" class="md-nav__link">
      package http
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../net/rpc/" title="rpc" class="md-nav__link">
      rpc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-7" type="checkbox" id="nav-5-2-7">
    
    <label class="md-nav__link" for="nav-5-2-7">
      Os
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-7">
        Os
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../os/exec/" title="package exec" class="md-nav__link">
      package exec
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Regexp
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Regexp
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Regexp/基础/" title="正则表达式" class="md-nav__link">
      正则表达式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Regexp/常用/" title="常用" class="md-nav__link">
      常用
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    使用方式
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    方式一
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    方式二
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    方式三
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    命令行标识语法
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    示例
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    变量
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    类型
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    样例
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="package-flag">package flag</h1>
<pre><code class="go">import &quot;flag&quot;
</code></pre>

<p>flag包实现了命令行标识的解析。</p>
<h2 id="_1">使用方式</h2>
<ol>
<li>使用<code>flag.String()</code>,<code>Bool()</code>,<code>Int()</code>等来定义命令行标识。</li>
</ol>
<h3 id="_2">方式一</h3>
<p>定义一个整数标识<code>-flagname</code>，并将值保存在<code>*int</code>类型的指针<code>ip</code>中，其中<code>1234</code>为标识的默认值，<code>”help message for flagname“</code>是该标识的帮助信息：</p>
<pre><code class="go">var ip = flag.Int(&quot;flagname&quot;, 1234, &quot;help message for flagname&quot;)
</code></pre>

<h3 id="_3">方式二</h3>
<p>使用<code>Var()</code>函数将该标识绑定到一个<strong>变量</strong>上，如下所示：</p>
<pre><code class="go">var flagvar int     // 定义标识要绑定的变量
func init() {
    flag.IntVar(&amp;flagvar, &quot;flagname&quot;, 1234, &quot;help message for flagname&quot;)
}
</code></pre>

<h3 id="_4">方式三</h3>
<p>创建一个自定义的标识（使用指针接收器），只要该标识满足Value接口，然后将它绑定到标识解析器，如果使用这样的变量来自定义标识，那么默认值就是<strong>变量的初始值</strong>。</p>
<pre><code class="go">flag.Var(&amp;flagVal, &quot;name&quot;, &quot;help message for flagname&quot;)
</code></pre>

<ol>
<li>在所有的标识都定义完成之后，执行下面的调用,将命令行解析到定义的标识中：</li>
</ol>
<pre><code class="go">flag.Parse()
</code></pre>

<p>然后可以直接使用这些标识：</p>
<ul>
<li>如果直接使用标识本身，那么它们都是<strong>指针</strong></li>
<li>如果将标识绑定到变量，那么它们就是<strong>值</strong></li>
</ul>
<pre><code class="go">fmt.Println(&quot;ip has value &quot;, *ip)
fmt.Println(&quot;flagvar has value &quot;, flagvar)
</code></pre>

<p>解析后，所有标识对应的参数可用切片<code>flag.Args()</code>或用<code>flag.Arg(i)</code>一个个独立的获取到。参数从0开始通过<code>flag.NArg()-1</code>索引。</p>
<h2 id="_5">命令行标识语法</h2>
<p>以下形式的命令行参数是允许的：</p>
<pre><code class="bash">-flag
-flag=x
-flag x  // 仅限非布尔标识
</code></pre>

<p>使用<code>-</code>或者<code>--</code>都是可以，它们是等价的。由于命令可能包含的含义，布尔型的标识不允许使用第三种形式。</p>
<pre><code class="go">cmd  -x *
</code></pre>

<p>其中<code>*</code>是Unix shell的通配符，如果有一个文件的名字是<code>0</code>、<code>false</code>等等时，会使命令产生歧义，因此必须使用<code>-flag=false</code>来关闭一个布尔型的标识。</p>
<p>停止解析标识的位置：</p>
<ol>
<li>第一个非标识参数前（<code>-</code>是一个非标识参数）</li>
<li>在终止符<code>--</code>后</li>
</ol>
<p>整型标识接收<code>1234</code>、<code>0666</code>、<code>0x1234</code>或者可能是负整数。</p>
<p>布尔型的标识可以如下：</p>
<ul>
<li>1, t, T, true,  TRUE， True</li>
<li>0, f, F, false, FALSE, False</li>
</ul>
<p>持续时间(<code>Duration</code>)标识接受任何<code>time.ParseDuration</code>的有效输入。</p>
<p>默认的命令行标识集由顶级函数控制。<code>FlagSet</code>类型允许定义独立的标识集，例如在命令行界面中实现子命令。<code>FlagSet</code>的方法类似于命令行标识集的顶级函数。</p>
<h2 id="_6">示例</h2>
<pre><code class="go">// 这些示例演示了flag包的更复杂用法
package main

import (
    &quot;errors&quot;
    &quot;flag&quot;
    &quot;fmt&quot;
    &quot;strings&quot;
    &quot;time&quot;
)

// 示例1：名为“species”的单字符串标识，默认值为“gopher”。
var species = flag.String(&quot;species&quot;, &quot;gopher&quot;, &quot;the species we are studying&quot;)

//示例2：共享变量的两个标识，因此我们可以使用简写。
//初始化顺序未定义，因此请确保两者都使用相同的默认值。必须使用init函数设置它们。
var gopherType string

func init() {
    const (
        defaultGopher = &quot;pocket&quot;
        usage         = &quot;the variety of gopher&quot;
    )
    flag.StringVar(&amp;gopherType, &quot;gopher_type&quot;, defaultGopher, usage)
    flag.StringVar(&amp;gopherType, &quot;g&quot;, defaultGopher, usage+&quot; (shorthand)&quot;)
}

// 示例3:用户自定义的标识类型,是一个持续时间的切片
type interval []time.Duration

// String方法用于格式户标识的值,是flag.Value接口的一部分。
// String方法的输出将用于诊断。
func (i *interval) String() string {
    return fmt.Sprint(*i)
}

// Set方法用于设置标识的值，也是flag.Value接口的一部分。
// Set方法的参数是string类型的被解析后用于设置该标识。
// 这是一个逗号分隔的列表，所以我们拆分它。
func (i *interval) Set(value string) error {
    // 如果我们允许多次设置标识来累积值，就需要将下面的if语句删除。
    // 这将运行诸如此类的用法： -deltaT 10s -deltaT 15s 和其他的组合。
    if len(*i) &gt; 0 {
        return errors.New(&quot;interval flag already set&quot;)
    }
    for _, dt := range strings.Split(value, &quot;,&quot;) {
        duration, err := time.ParseDuration(dt)
        if err != nil {
            return err
        }
        *i = append(*i, duration)
    }
    return nil
}

// 定义一个标识来累积持续时间。因为它有一个特殊的类型，
// 我们需要使用Var函数，并在init期间创建该标识。

var intervalFlag interval

func init() {

    // 将命令行标识绑定到intervalFlag变量并设置使用方式消息。
    flag.Var(&amp;intervalFlag, &quot;deltaT&quot;, &quot;comma-separated list of intervals to use between events&quot;)
}

func main() {
    // 有趣的是使用上面声明的变量，为了使flag包能够看到上面定义的标识，必须执行，通常在main（而不是init）的开头执行：
    flag.Parse()
    // 我们不在这里运行它，因为这不是main函数，并且测试套件已经解析了标识。
}
</code></pre>

<h2 id="_7">变量</h2>
<pre><code class="go">var CommandLine = NewFlagSet(os.Args[0], ExitOnError)
</code></pre>

<p>CommandLine是默认的命令行标识集，从<code>os.Args</code>解析。顶级函数（如BoolVar，Arg等）是CommandLine方法的包装器。</p>
<pre><code class="go">var ErrHelp = errors.New(&quot;flag: help requested&quot;)
</code></pre>

<p>ErrHelp是在调用<code>-help</code>或<code>-h</code>标识但未定义此类标识时返回的错误。</p>
<pre><code class="go">var Usage = func() {
    fmt.Fprintf(CommandLine.Output(), &quot;Usage of %s:\n&quot;, os.Args[0])
    PrintDefaults()
}
</code></pre>

<p><code>Usage</code>打印一条用法消息，该消息中记录所有已定义的命令行标识并输出到<code>CommandLine.output()</code>，默认情况下是输出到<code>os.Stderr</code>。只有当解析标识发生错误时才调用<code>Usage</code>，<a href="##类型">见类型部分中Flag结构体</a>。</p>
<p><code>Usage</code>变量是一个函数，可以更改为指向其他的自定义函数。默认情况下，它会打印一个简单的标题并调用<code>PrintDefaults</code>；有关输出格式及其控制方法的详细信息，请参阅<code>PrintDefaults</code>的文档或者查看下面的函数说明。</p>
<p>自定义的<code>Usage</code>函数会导致程序退出；默认情况下也是这样，因为命令行的错误处理策略设置为<code>ExitOnError</code>。</p>
<h2 id="_8">函数</h2>
<pre><code class="go">func Arg（i int） string
</code></pre>

<p>Arg返回第i个命令行参数。<code>Arg(0)</code>是处理完标识后的第一个剩余参数。如果请求的元素不存在，Arg将返回一个空字符串。</p>
<hr />
<pre><code class="go">func Args() []string
</code></pre>

<p>Args返回非标识命令行参数。</p>
<hr />
<pre><code class="go">// Bool定义了一个带有指定名称，默认值和用法字符串的bool标识。返回值是存储标识值的bool变量的地址（指针）
func Bool(name string, value bool, usage string) *bool{
}

// BoolVar定义了一个带有指定名称，默认值和用法字符串的bool标识。参数p指向一个bool变量，用于存储标识的值。
func BoolVar(p *bool, name string, value bool, usage string){
}
</code></pre>

<pre><code class="go">// Duration定义具有指定名称，默认值和用法字符串的time.Duration标识。返回值是存储标识值的time.Duration变量的地址。该标识接受time.ParseDuration可接受的值。

func Duration(name string, value time.Duration, usage string) *time.Duration{
}

// DurationVar定义具有指定名称，默认值和用法字符串的time.Duration标识。参数p指向time.Duration变量，用于存储标识的值。该标识接受time.ParseDuration可接受的值。

func DurationVar(p *time.Duration, name string, value time.Duration, usage string){
}
</code></pre>

<pre><code class="go">// Float64定义了一个带有指定名称，默认值和用法字符串的float64标识。返回值是存储标识值的float64变量的地址。
func Float64(name string, value float64, usage string) *float64{
}

// Float64Var定义了一个带有指定名称，默认值和用法字符串的float64标识。参数p指向一个float64变量，用于存储该标识的值。
func Float64Var(p *float64, name string, value float64, usage string){
}
</code></pre>

<pre><code class="go">// Int定义具有指定名称，默认值和用法字符串的int标识。返回值是存储标识值的int变量的地址。
func Int(name string, value int, usage string) *int{
}

// IntVar定义了一个带有指定名称，默认值和用法字符串的int标识。参数p指向一个int变量，用于存储标识的值。
func IntVar(p *int, name string, value int, usage string){

}

// Int64定义了一个带有指定名称，默认值和用法字符串的int64标识。返回值是存储标识值的int64变量的地址。
func Int64(name string, value int64, usage string) *int64{
}

// Int64Var定义了一个带有指定名称，默认值和用法字符串的int64标识。参数p指向一个int64变量，用于存储该标识的值。
func Int64Var(p *int64, name string, value int64, usage string){
}
</code></pre>

<pre><code class="go">// NArg返回的是处理标识后剩余的参数个数。
func NArg() int{
}

// NFlag返回已设置的命令行标识的数量。
func NFlag() int{
}
</code></pre>

<pre><code class="go">// Parse从os.Args[1:]中解析命令行标识。必须在定义所有标识之后并且在程序访问标识之前调用。
func Parse(){
}

// Parsed报告是否已解析命令行标识。
func Parsed() bool{
}
</code></pre>

<hr />
<pre><code class="go">// 除非另外配置了输出位置，否则PrintDefaults会将内容打印在标准错误中。输出的内容为一个包含所有已经定义的命令行标识的默认设置的用法消息。
func PrintDefaults()

// 对于整数值标识x，默认输出如下所示：
-x int
    usage-message-for-x (default 7)
</code></pre>

<p>除了带有单字节名称的bool标识外，用法消息将另起一行显示。对于bool标识，省略类型，如果标识名称是一个字节，则用法消息将显示在同一行。</p>
<p>如果标识的默认值为零值，则会省略用法消息后面括号中的内容。在定义标识时，可以用反引号将标识的用法字符串中的某个名称引起来，那么，用法消息中的第一个被反引号引起来的内容将被视为要在消息中显示的默认值，并且在显示时将从消息中删除反引号。</p>
<p>如下所示：</p>
<pre><code class="go">flag.String(&quot;I&quot;, &quot;&quot;, &quot;search `directory` for include files&quot;)

// 用法消息输出如下
-I directory
    search directory for include files.
</code></pre>

<p>要更改标识的用法消息的输出位置，请调用<code>CommandLine.SetOutput()</code>。</p>
<hr />
<pre><code class="go">func Set(name, value string) error{
}
</code></pre>

<p>Set设置已经被命名的命令行标识的值。</p>
<hr />
<pre><code class="go">// String定义具有指定名称，默认值和用法字符串的字符串标识。返回值是存储标识值的字符串变量的地址。
func String(name string, value string, usage string) *string{
}

// StringVar定义具有指定名称，默认值和用法字符串的字符串标识。参数p指向一个字符串变量，用于存储标识的值。
func StringVar(p *string, name string, value string, usage string){
}
</code></pre>

<pre><code class="go">// Uint定义了一个带有指定名称，默认值和用法字符串的uint标识。返回值是存储标识值的uint变量的地址。
func Uint(name string, value uint, usage string) *uint{
}

// UintVar定义了一个带有指定名称，默认值和用法字符串的uint标识。参数p指向一个uint变量，用于存储标识的值。
func UintVar(p *uint, name string, value uint, usage string){
}

// Uint64定义了一个带有指定名称，默认值和用法字符串的uint64标识。返回值是存储标识值的uint64变量的地址。
func Uint64(name string, value uint64, usage string) *uint64{
}

// Uint64Var定义了一个带有指定名称，默认值和用法字符串的uint64标识。参数p指向一个uint64变量，用于存储该标识的值。
func Uint64Var(p *uint64, name string, value uint64, usage string){
}
</code></pre>

<pre><code class="go">// UnquoteUsage从标识的用法字符串中提取被反引号引起来的名称并返回它,同时返回去掉反引号后的用法消息。
func UnquoteUsage(flag *Flag) (name string, usage string){
}

// 给定如下用法消息
&quot;a `name` to show&quot;

// UnquoteUsage输出的内容如下
 (&quot;name&quot;, &quot;a name to show&quot;)

// 如果没有反引号，则该名称是对标识值类型的有根据的猜测，如果该标识是布尔值，则为空字符串。
</code></pre>

<hr />
<pre><code class="go">func Var(value Value, name string, usage string)
</code></pre>

<p>Var定义具有指定名称和用法字符串的标识。</p>
<ul>
<li>标识的类型和值由第一个参数表示，类型为Value，它通常包含<strong>用户定义的Value实现</strong>。</li>
</ul>
<p>例如，调用者可以创建一个标识，通过为切片提供Value方法，将逗号分隔的字符串转换为字符串切片; 尤其是，Set会将逗号分隔的字符串分解为切片。</p>
<hr />
<pre><code class="go">// Visit为每个fn调用以字典顺序访问命令行标识，它只访问已设置的那些标识。
func Visit(fn func(*Flag)){
}

// VisitAll为每个fn调用以字典顺序访问命令行标识，它访问所有标识，甚至那些未设置的标识。
func VisitAll(fn func(*Flag)){
}
</code></pre>

<h2 id="_9">类型</h2>
<pre><code class="go">// ErrorHandling定义了如果解析失败，FlagSet.Parse的行为方式。
type ErrorHandling int

// 如果解析失败，这些常量反应了FlagSet.Parse的行为。
const (
    ContinueOnError ErrorHandling = iota // 返回描述性错误
    ExitOnError                          // 调用os.Exit(2).
    PanicOnError                         // 调用运行时恐慌并返回描述性错误
)
</code></pre>

<pre><code class="go">// Flag表示标识的状态。
type Flag struct {
    Name     string // 命令行上显示的名称
    Usage    string // 帮助信息/用法信息
    Value    Value  // 设定的值
    DefValue string // 用法信息的默认值（文本形式）
}

// Lookup返回指定命令行标识的Flag结构，如果不存在则返回nil。
func Lookup(name string) *Flag
</code></pre>

<pre><code class="go">// FlagSet表示一组定义的标识。FlagSet的零值没有名称，并且具有ContinueOnError错误处理。
type FlagSet struct {
    // Usage是在解析标识发生错误时调用的函数。该字段是一个函数（不是方法），
    // 可以更改为指向自定义错误处理程序。调用Usage后会发生什么取决于ErrorHandling的设置;
    // 对于命令行，默认是ExitOnError，它将在调用Usage后退出程序。
    Usage func(){}    // 为了显示正常，此处没有大括号
    // 包含已过滤或未导出的字段
}

// NewFlagSet返回一个带有指定名称和错误处理属性的新的空标识集。如果名称不为空，则将在默认用法消息和错误消息中打印。
func NewFlagSet(name string, errorHandling ErrorHandling) *FlagSet{
}

// Arg返回第i个参数。Arg(0)是处理完标识后剩余的第一个参数。如果请求的元素不存在，Arg将返回一个空字符串。
func (f *FlagSet) Arg(i int) string{
}

// Args返回非标识的参数。
func (f *FlagSet) Args() []string{
}

// Bool定义了一个带有指定名称，默认值和用法字符串的bool标识。返回值是存储标识值的bool变量的地址。
func (f *FlagSet) Bool(name string, value bool, usage string) *bool{
}

// BoolVar定义了一个带有指定名称，默认值和用法字符串的bool标识。参数p指向一个bool变量，用于存储标识的值。
func (f *FlagSet) BoolVar(p *bool, name string, value bool, usage string){
}

// Duration定义具有指定名称，默认值和用法字符串的time.Duration标识。返回值是存储标识值的time.Duration变量的地址。该标识接受time.ParseDuration可接受的值。
func (f *FlagSet) Duration(name string, value time.Duration, usage string) *time.Duration{
}

// DurationVar定义具有指定名称，默认值和用法字符串的time.Duration标识。参数p指向time.Duration变量，用于存储标识的值。该标识接受time.ParseDuration可接受的值。
func (f *FlagSet) DurationVar(p *time.Duration, name string, value time.Duration, usage string){
}

// ErrorHandling返回标识集的错误处理行为。
func (f *FlagSet) ErrorHandling() ErrorHandling

// Float64定义了一个带有指定名称，默认值和用法字符串的float64标识。返回值是存储标识值的float64变量的地址。
func (f *FlagSet) Float64(name string, value float64, usage string) *float64{
}

// Float64Var定义了一个带有指定名称，默认值和用法字符串的float64标识。参数p指向一个float64变量，用于存储该标识的值。
func (f *FlagSet) Float64Var(p *float64, name string, value float64, usage string){
}

// Init为标识集设置名称和错误处理属性。默认情况下，为零值的FlagSet使用空名称和ContinueOnError错误处理策略。
func (f *FlagSet) Init(name string, errorHandling ErrorHandling){
}

// Int定义具有指定名称，默认值和用法字符串的int标识。返回值是存储标识值的int变量的地址。
func (f *FlagSet) Int(name string, value int, usage string) *int{
}

// Int64定义了一个带有指定名称，默认值和用法字符串的int64标识。返回值是存储标识值的int64变量的地址。
func (f *FlagSet) Int64(name string, value int64, usage string) *int64{
}

// Int64Var定义了一个带有指定名称，默认值和用法字符串的int64标识。参数p指向一个int64变量，用于存储该标识的值。
func (f *FlagSet) Int64Var(p *int64, name string, value int64, usage string){
}

// IntVar定义了一个带有指定名称，默认值和用法字符串的int标识。参数p指向一个int变量，用于存储标识的值。
func (f *FlagSet) IntVar(p *int, name string, value int, usage string){
}

// Lookup返回指定标识的Flag结构，如果不存在则返回nil。
func (f *FlagSet) Lookup(name string) *Flag{
}

// NArg是处理标识后剩余的参数个数。
func (f *FlagSet) NArg() int{
}

// NFlag返回已设置的标识数。
func (f *FlagSet) NFlag() int{
}

// Name返回标识集的名称。
func (f *FlagSet) Name() string{
}

// Output返回用法消和错误消息的输出目的地。如果未设置output或设置为nil，则返回os.Stderr。
func (f *FlagSet) Output() io.Writer{
}

// Parse从参数列表中解析标识定义，该列表不包含命令的名称。必须在定义FlagSet中的所有标识之后并且在程序访问标识之前调用。如果未定义-help或-h，则返回值为ErrHelp。
func (f *FlagSet) Parse(arguments []string) error{
}

// Parsed报告是否已调用f.Parse。
func (f *FlagSet) Parsed() bool{
}

// 除非另外配置，否则PrintDefaults会把整个标识集中定义的标识的默认值输出到标准错误中，有关详细信息，请参阅上面的全局函数PrintDefaults的文档。
func (f *FlagSet) PrintDefaults(){
}

// Set设置指定标识的值。
func (f *FlagSet) Set(name, value string) error{
}

// SetOutput设置用法消息和错误消息的目的地。如果output设置为nil，则使用os.Stderr。
func (f *FlagSet) SetOutput(output io.Writer){
}

// String定义具有指定名称，默认值和用法字符串的字符串标识。返回值是存储标识值的字符串变量的地址。
func (f *FlagSet) String(name string, value string, usage string) *string{
}

// StringVar定义具有指定名称，默认值和用法字符串的字符串标识。参数p指向一个字符串变量，用于存储标识的值。
func (f *FlagSet) StringVar(p *string, name string, value string, usage string){
}

// Uint定义了一个带有指定名称，默认值和用法字符串的uint标识。返回值是存储标识值的uint变量的地址。
func (f *FlagSet) Uint(name string, value uint, usage string) *uint{
}

// Uint64定义了一个带有指定名称，默认值和用法字符串的uint64标识。返回值是存储标识值的uint64变量的地址。
func (f *FlagSet) Uint64(name string, value uint64, usage string) *uint64{
}

// Uint64Var定义了一个带有指定名称，默认值和用法字符串的uint64标识。参数p指向一个uint64变量，用于存储该标识的值。
func (f *FlagSet) Uint64Var(p *uint64, name string, value uint64, usage string){
}

// UintVar定义了一个带有指定名称，默认值和用法字符串的uint标识。参数p指向一个uint变量，用于存储标识的值。
func (f *FlagSet) UintVar(p *uint, name string, value uint, usage string){
}

// Var定义具有指定名称和用法字符串的标识。标识的类型和值由第一个参数表示，类型为Value，它通常包含用户定义的Value实现。例如，调用者可以创建一个标识，通过为切片提供Value方法，将逗号分隔的字符串转换为字符串切片; 尤其是，Set会将逗号分隔的字符串分解为切片。
func (f *FlagSet) Var(value Value, name string, usage string)

// Visit为每个fn调用以字典顺序访问标识，它只访问已设置的那些标识。
func (f *FlagSet) Visit(fn func(*Flag))

// VisitAll为每个fn调用以字典顺序访问标识，它访问所有标识，甚至那些未设置的标识。
func (f *FlagSet) VisitAll(fn func(*Flag))
</code></pre>

<pre><code class="go">type Getter interface {
    Value
    Get() interface{}
}
</code></pre>

<p>Getter是一个允许检索Value内容的接口。因为它出现在Go1及其兼容性规则之后，所以它组合了Value接口，而不是成为value接口的一部分，此flag包提供的所有Value类型都满足Getter接口。</p>
<pre><code class="go">type Value interface {
    String() string
    Set(string) error
}
</code></pre>

<p>Value是存储在一个标识中的动态值的接口，它的默认值表示是字符串。</p>
<p>如果某个Value接口的<code>IsBoolFlag()</code>方法返回true，则命令行解析器使<code>-name</code>等效于<code>-name=true</code>，而不是使用下一个命令行参数。</p>
<p>为每个存在的标识，以命令行顺序调用且仅调用一次Set。flag包会使用零值接收器调用String方法，例如nil指针。</p>
<h2 id="_10">样例</h2>
<pre><code class="go">package main

import (
    &quot;flag&quot;
    &quot;fmt&quot;
    &quot;net/url&quot;
)

type URLValue struct {
    URL *url.URL
}

func (v URLValue) String() string {
    if v.URL != nil {
        return v.URL.String()
    }
    return &quot;&quot;
}

func (v URLValue) Set(s string) error {
    if u, err := url.Parse(s); err != nil {
        return err
    } else {
        *v.URL = *u
    }
    return nil
}

var u = &amp;url.URL{}

func main() {
    fs := flag.NewFlagSet(&quot;ExampleValue&quot;, flag.ExitOnError)
    fs.Var(&amp;URLValue{u}, &quot;url&quot;, &quot;URL to parse&quot;)

    fs.Parse([]string{&quot;-url&quot;, &quot;https://golang.org/pkg/flag/&quot;})
    fmt.Printf(`{scheme: %q, host: %q, path: %q}`, u.Scheme, u.Host, u.Path)

}
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../context/" title="package context" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                package context
              </span>
            </div>
          </a>
        
        
          <a href="../log/" title="packages log" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                packages log
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>